import{h as e,ak as t,b as n,i as r,al as o,l as i,n as a,m as s,U as l,V as u,u as c,v as p,am as d,r as h,w as f,$ as v,x as g,d as m,an as y,C as b,s as w,D as x,ao as C,aa as S,ap as k,c as O,o as E,H as I,P as A,G as T,I as F,J as M,O as L,E as _,F as P,S as R,aq as j,a0 as z,L as H,ar as B,R as $,T as N,A as q,Y as W,y as D,a3 as U,as as X,at as Y,ae as V,ag as K,ai as G,a8 as J,q as Q,p as Z,M as ee,au as te,av as ne,aw as re,ax as oe,ay as ie,K as ae,az as se,ah as le,W as ue,af as ce,X as pe,ab as de,aA as he,a2 as fe,Q as ve,aB as ge,Z as me,B as ye,a4 as be,aC as we,t as xe,aD as Ce,aE as Se,aF as ke,a5 as Oe,a6 as Ee,a7 as Ie,aG as Ae,aH as Te,aI as Fe,aJ as Me}from"./index-DXaVWEDu.js";import{c as Le,k as _e,b as Pe,a3 as Re,a4 as je,a5 as ze,g as He,a6 as Be,a7 as $e,j as Ne,a8 as qe,a9 as We,aa as De,f as Ue,d as Xe,h as Ye,m as Ve,S as Ke,ab as Ge,n as Je,U as Qe,u as Ze,ac as et,ad as tt,q as nt,N as rt,ae as ot,_ as it,af as at,w as st,r as lt,x as ut,ag as ct,ah as pt,ai as dt,O as ht,I as ft,aj as vt,ak as gt,C as mt,t as yt,al as bt,am as wt,an as xt,ao as Ct,ap as St,A as kt,K as Ot,M as Et,aq as It,ar as At,L as Tt,as as Ft,y as Mt,at as Lt,au as _t,av as Pt,aw as Rt,v as jt,B as zt,ax as Ht,ay as Bt,D as $t,az as Nt,H as qt,aA as Wt,F as Dt,E as Ut,J as Xt,aB as Yt,aC as Vt,aD as Kt,aE as Gt,aF as Jt,aG as Qt,aH as Zt,aI as en,aJ as tn,aK as nn,aL as rn,aM as on,aN as an,R as sn,T as ln,Y as un,aO as cn,X as pn,a1 as dn,aP as hn,W as fn,Z as vn}from"./_plugin-vue_export-helper-ChAObM4w.js";function gn(){if(!arguments.length)return[];var t=arguments[0];return e(t)?t:[t]}var mn=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ze(t,Re(e)),e=He(e);return t}:je;function yn(e){return Be(e,Pe,mn)}var bn=Object.prototype.hasOwnProperty;var wn=/\w*$/;var xn=t?t.prototype:void 0,Cn=xn?xn.valueOf:void 0;function Sn(e,t,n){var r,o,i,a=e.constructor;switch(t){case"[object ArrayBuffer]":return $e(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return function(e,t){var n=t?$e(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ne(e,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(i=new(o=e).constructor(o.source,wn.exec(o))).lastIndex=o.lastIndex,i;case"[object Symbol]":return r=e,Cn?Object(Cn.call(r)):{}}}var kn=De&&De.isMap,On=kn?We(kn):function(e){return n(e)&&"[object Map]"==qe(e)};var En=De&&De.isSet,In=En?We(En):function(e){return n(e)&&"[object Set]"==qe(e)},An="[object Arguments]",Tn="[object Function]",Fn="[object Object]",Mn={};function Ln(t,n,i,a,s,l){var u,c=1&n,p=2&n,d=4&n;if(void 0!==u)return u;if(!r(t))return t;var h=e(t);if(h){if(u=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&bn.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!c)return Ue(t,u)}else{var f=qe(t),v=f==Tn||"[object GeneratorFunction]"==f;if(Xe(t))return Ye(t,c);if(f==Fn||f==An||v&&!s){if(u=p||v?{}:Ve(t),!c)return p?function(e,t){return Le(e,mn(e),t)}(t,function(e,t){return e&&Le(t,Pe(t),e)}(u,t)):function(e,t){return Le(e,Re(e),t)}(t,function(e,t){return e&&Le(t,_e(t),e)}(u,t))}else{if(!Mn[f])return s?t:{};u=Sn(t,f,c)}}l||(l=new Ke);var g=l.get(t);if(g)return g;l.set(t,u),In(t)?t.forEach(function(e){u.add(Ln(e,n,i,e,t,l))}):On(t)&&t.forEach(function(e,r){u.set(r,Ln(e,n,i,r,t,l))});var m=h?void 0:(d?p?yn:Ge:p?Pe:_e)(t);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(m||t,function(e,r){m&&(e=t[r=e]),o(u,r,Ln(e,n,i,r,t,l))}),u}Mn[An]=Mn["[object Array]"]=Mn["[object ArrayBuffer]"]=Mn["[object DataView]"]=Mn["[object Boolean]"]=Mn["[object Date]"]=Mn["[object Float32Array]"]=Mn["[object Float64Array]"]=Mn["[object Int8Array]"]=Mn["[object Int16Array]"]=Mn["[object Int32Array]"]=Mn["[object Map]"]=Mn["[object Number]"]=Mn[Fn]=Mn["[object RegExp]"]=Mn["[object Set]"]=Mn["[object String]"]=Mn["[object Symbol]"]=Mn["[object Uint8Array]"]=Mn["[object Uint8ClampedArray]"]=Mn["[object Uint16Array]"]=Mn["[object Uint32Array]"]=!0,Mn["[object Error]"]=Mn[Tn]=Mn["[object WeakMap]"]=!1;function _n(e){return Ln(e,4)}function Pn(e){return Ln(e,5)}let Rn;const jn={height:"0",visibility:"hidden",overflow:i&&/firefox/i.test(window.navigator.userAgent)?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},zn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Hn(e,t=1,n){var r;Rn||(Rn=document.createElement("textarea"),document.body.appendChild(Rn));const{paddingSize:o,borderSize:i,boxSizing:s,contextStyle:l}=function(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:zn.map(e=>[e,t.getPropertyValue(e)]),paddingSize:r,borderSize:o,boxSizing:n}}(e);l.forEach(([e,t])=>null==Rn?void 0:Rn.style.setProperty(e,t)),Object.entries(jn).forEach(([e,t])=>null==Rn?void 0:Rn.style.setProperty(e,t,"important")),Rn.value=e.value||e.placeholder||"";let u=Rn.scrollHeight;const c={};"border-box"===s?u+=i:"content-box"===s&&(u-=o),Rn.value="";const p=Rn.scrollHeight-o;if(a(t)){let e=p*t;"border-box"===s&&(e=e+o+i),u=Math.max(e,u),c.minHeight=`${e}px`}if(a(n)){let e=p*n;"border-box"===s&&(e=e+o+i),u=Math.min(e,u)}return c.height=`${u}px`,null==(r=Rn.parentNode)||r.removeChild(Rn),Rn=void 0,c}const Bn=l({id:{type:String,default:void 0},size:c,disabled:Boolean,modelValue:{type:u([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:u([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:tt},prefixIcon:{type:tt},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:u([Object,Array,String]),default:()=>et({})},autofocus:Boolean,rows:{type:Number,default:2},...Ze(["ariaLabel"])}),$n={[Qe]:e=>s(e),input:e=>s(e),change:e=>s(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent};function Nn(e,{beforeFocus:t,afterFocus:n,beforeBlur:r,afterBlur:o}={}){const i=p(),{emit:a}=i,s=d(),l=nt(),u=h(!1),c=e=>{!!v(t)&&t(e)||u.value||(u.value=!0,a("focus",e),null==n||n())},g=e=>{var t;!!v(r)&&r(e)||e.relatedTarget&&(null==(t=s.value)?void 0:t.contains(e.relatedTarget))||(u.value=!1,a("blur",e),null==o||o())};return f([s,l],([e,t])=>{e&&(t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}),rt(s,"focus",c,!0),rt(s,"blur",g,!0),rt(s,"click",t=>{var n,r;(null==(n=s.value)?void 0:n.contains(document.activeElement))&&s.value!==document.activeElement||ot(t.target)||l.value||null==(r=e.value)||r.focus()},!0),{isFocused:u,wrapperRef:s,handleFocus:c,handleBlur:g}}function qn({afterComposition:e,emit:t}){const n=h(!1),r=e=>{var r;null==t||t("compositionupdate",e);const o=null==(r=e.target)?void 0:r.value,i=o[o.length-1]||"";n.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(i)},o=r=>{null==t||t("compositionend",r),n.value&&(n.value=!1,g(()=>e(r)))};return{isComposing:n,handleComposition:e=>{"compositionend"===e.type?o(e):r(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),n.value=!0},handleCompositionUpdate:r,handleCompositionEnd:o}}const Wn=m({name:"ElInput",inheritAttrs:!1});const Dn=W(it(m({...Wn,props:Bn,emits:$n,setup(e,{expose:t,emit:n}){const r=e,o=y(),a=at(),s=b(),l=w(()=>["textarea"===r.type?U.b():D.b(),D.m(m.value),D.is("disabled",W.value),D.is("exceed",fe.value),{[D.b("group")]:s.prepend||s.append,[D.m("prefix")]:s.prefix||r.prefixIcon,[D.m("suffix")]:s.suffix||r.suffixIcon||r.clearable||r.showPassword,[D.bm("suffix","password-clear")]:ce.value&&pe.value,[D.b("hidden")]:"hidden"===r.type},o.class]),u=w(()=>[D.e("wrapper"),D.is("focus",ee.value)]),{form:c,formItem:p}=lt(),{inputId:v}=ut(r,{formItemContext:p}),m=st(),W=nt(),D=x("input"),U=x("textarea"),X=d(),Y=d(),V=h(!1),K=h(!1),G=h(),J=d(r.inputStyle),Q=w(()=>X.value||Y.value),{wrapperRef:Z,isFocused:ee,handleFocus:te,handleBlur:ne}=Nn(Q,{beforeFocus:()=>W.value,afterBlur(){var e;r.validateEvent&&(null==(e=null==p?void 0:p.validate)||e.call(p,"blur").catch(e=>yt()))}}),re=w(()=>{var e;return null!=(e=null==c?void 0:c.statusIcon)&&e}),oe=w(()=>(null==p?void 0:p.validateState)||""),ie=w(()=>oe.value&&ct[oe.value]),ae=w(()=>K.value?pt:dt),se=w(()=>[o.style]),le=w(()=>[r.inputStyle,J.value,{resize:r.resize}]),ue=w(()=>C(r.modelValue)?"":String(r.modelValue)),ce=w(()=>r.clearable&&!W.value&&!r.readonly&&!!ue.value&&(ee.value||V.value)),pe=w(()=>r.showPassword&&!W.value&&!!ue.value),de=w(()=>r.showWordLimit&&!!r.maxlength&&("text"===r.type||"textarea"===r.type)&&!W.value&&!r.readonly&&!r.showPassword),he=w(()=>ue.value.length),fe=w(()=>!!de.value&&he.value>Number(r.maxlength)),ve=w(()=>!!s.suffix||!!r.suffixIcon||ce.value||r.showPassword||de.value||!!oe.value&&re.value),[ge,me]=function(e){let t;return[function(){if(null==e.value)return;const{selectionStart:n,selectionEnd:r,value:o}=e.value;if(null==n||null==r)return;const i=o.slice(0,Math.max(0,n)),a=o.slice(Math.max(0,r));t={selectionStart:n,selectionEnd:r,value:o,beforeTxt:i,afterTxt:a}},function(){if(null==e.value||null==t)return;const{value:n}=e.value,{beforeTxt:r,afterTxt:o,selectionStart:i}=t;if(null==r||null==o||null==i)return;let a=n.length;if(n.endsWith(o))a=n.length-o.length;else if(n.startsWith(r))a=r.length;else{const e=r[i-1],t=n.indexOf(e,i-1);-1!==t&&(a=t+1)}e.value.setSelectionRange(a,a)}]}(X);ht(Y,e=>{if(be(),!de.value||"both"!==r.resize)return;const t=e[0],{width:n}=t.contentRect;G.value={right:`calc(100% - ${n+15+6}px)`}});const ye=()=>{const{type:e,autosize:t}=r;if(i&&"textarea"===e&&Y.value)if(t){const e=q(t)?t.minRows:void 0,n=q(t)?t.maxRows:void 0,r=Hn(Y.value,e,n);J.value={overflowY:"hidden",...r},g(()=>{Y.value.offsetHeight,J.value=r})}else J.value={minHeight:Hn(Y.value).minHeight}},be=(e=>{let t=!1;return()=>{var n;if(t||!r.autosize)return;null===(null==(n=Y.value)?void 0:n.offsetParent)||(e(),t=!0)}})(ye),we=()=>{const e=Q.value,t=r.formatter?r.formatter(ue.value):ue.value;e&&e.value!==t&&(e.value=t)},xe=async e=>{ge();let{value:t}=e.target;r.formatter&&r.parser&&(t=r.parser(t)),Se.value||(t!==ue.value?(n(Qe,t),n(gt,t),await g(),we(),me()):we())},Ce=e=>{let{value:t}=e.target;r.formatter&&r.parser&&(t=r.parser(t)),n(mt,t)},{isComposing:Se,handleCompositionStart:ke,handleCompositionUpdate:Oe,handleCompositionEnd:Ee}=qn({emit:n,afterComposition:xe}),Ie=()=>{ge(),K.value=!K.value,setTimeout(me)},Ae=e=>{V.value=!1,n("mouseleave",e)},Te=e=>{V.value=!0,n("mouseenter",e)},Fe=e=>{n("keydown",e)},Me=()=>{n(Qe,""),n(mt,""),n("clear"),n(gt,"")};return f(()=>r.modelValue,()=>{var e;g(()=>ye()),r.validateEvent&&(null==(e=null==p?void 0:p.validate)||e.call(p,"change").catch(e=>yt()))}),f(ue,()=>we()),f(()=>r.type,async()=>{await g(),we(),ye()}),S(()=>{!r.formatter&&r.parser,we(),g(ye)}),t({input:X,textarea:Y,ref:Q,textareaStyle:le,autosize:k(r,"autosize"),isComposing:Se,focus:()=>{var e;return null==(e=Q.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=Q.value)?void 0:e.blur()},select:()=>{var e;null==(e=Q.value)||e.select()},clear:Me,resizeTextarea:ye}),(e,t)=>(E(),O("div",{class:F([M(l),{[M(D).bm("group","append")]:e.$slots.append,[M(D).bm("group","prepend")]:e.$slots.prepend}]),style:N(M(se)),onMouseenter:Te,onMouseleave:Ae},[I(" input "),"textarea"!==e.type?(E(),O(A,{key:0},[I(" prepend slot "),e.$slots.prepend?(E(),O("div",{key:0,class:F(M(D).be("group","prepend"))},[L(e.$slots,"prepend")],2)):I("v-if",!0),T("div",{ref_key:"wrapperRef",ref:Z,class:F(M(u))},[I(" prefix slot "),e.$slots.prefix||e.prefixIcon?(E(),O("span",{key:0,class:F(M(D).e("prefix"))},[T("span",{class:F(M(D).e("prefix-inner"))},[L(e.$slots,"prefix"),e.prefixIcon?(E(),_(M(ft),{key:0,class:F(M(D).e("icon"))},{default:P(()=>[(E(),_(R(e.prefixIcon)))]),_:1},8,["class"])):I("v-if",!0)],2)],2)):I("v-if",!0),T("input",j({id:M(v),ref_key:"input",ref:X,class:M(D).e("inner")},M(a),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?K.value?"text":"password":e.type,disabled:M(W),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,onCompositionstart:M(ke),onCompositionupdate:M(Oe),onCompositionend:M(Ee),onInput:xe,onChange:Ce,onKeydown:Fe}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),I(" suffix slot "),M(ve)?(E(),O("span",{key:1,class:F(M(D).e("suffix"))},[T("span",{class:F(M(D).e("suffix-inner"))},[M(ce)&&M(pe)&&M(de)?I("v-if",!0):(E(),O(A,{key:0},[L(e.$slots,"suffix"),e.suffixIcon?(E(),_(M(ft),{key:0,class:F(M(D).e("icon"))},{default:P(()=>[(E(),_(R(e.suffixIcon)))]),_:1},8,["class"])):I("v-if",!0)],64)),M(ce)?(E(),_(M(ft),{key:1,class:F([M(D).e("icon"),M(D).e("clear")]),onMousedown:H(M(B),["prevent"]),onClick:Me},{default:P(()=>[z(M(vt))]),_:1},8,["class","onMousedown"])):I("v-if",!0),M(pe)?(E(),_(M(ft),{key:2,class:F([M(D).e("icon"),M(D).e("password")]),onClick:Ie},{default:P(()=>[(E(),_(R(M(ae))))]),_:1},8,["class"])):I("v-if",!0),M(de)?(E(),O("span",{key:3,class:F(M(D).e("count"))},[T("span",{class:F(M(D).e("count-inner"))},$(M(he))+" / "+$(e.maxlength),3)],2)):I("v-if",!0),M(oe)&&M(ie)&&M(re)?(E(),_(M(ft),{key:4,class:F([M(D).e("icon"),M(D).e("validateIcon"),M(D).is("loading","validating"===M(oe))])},{default:P(()=>[(E(),_(R(M(ie))))]),_:1},8,["class"])):I("v-if",!0)],2)],2)):I("v-if",!0)],2),I(" append slot "),e.$slots.append?(E(),O("div",{key:1,class:F(M(D).be("group","append"))},[L(e.$slots,"append")],2)):I("v-if",!0)],64)):(E(),O(A,{key:1},[I(" textarea "),T("textarea",j({id:M(v),ref_key:"textarea",ref:Y,class:[M(U).e("inner"),M(D).is("focus",M(ee))]},M(a),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:M(W),readonly:e.readonly,autocomplete:e.autocomplete,style:M(le),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:M(ke),onCompositionupdate:M(Oe),onCompositionend:M(Ee),onInput:xe,onFocus:M(te),onBlur:M(ne),onChange:Ce,onKeydown:Fe}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),M(de)?(E(),O("span",{key:0,style:N(G.value),class:F(M(D).e("count"))},$(M(he))+" / "+$(e.maxlength),7)):I("v-if",!0)],64))],38))}}),[["__file","input.vue"]]));var Un=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Un||{});const Xn=e=>{const t=D(e)?e:[e],n=[];return t.forEach(e=>{var t;D(e)?n.push(...Xn(e)):U(e)&&(null==(t=e.component)?void 0:t.subTree)?n.push(e,...Xn(e.component.subTree)):U(e)&&D(e.children)?n.push(...Xn(e.children)):U(e)&&2===e.shapeFlag?n.push(...Xn(e.type())):n.push(e)}),n},Yn=l({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:X},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Vn={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},Kn=m({name:"ElTag"});const Gn=W(it(m({...Kn,props:Yn,emits:Vn,setup(e,{emit:t}){const n=e,r=st(),o=x("tag"),i=w(()=>{const{type:e,hit:t,effect:i,closable:a,round:s}=n;return[o.b(),o.is("closable",a),o.m(e||"primary"),o.m(r.value),o.m(i),o.is("hit",t),o.is("round",s)]}),a=e=>{t("close",e)},s=e=>{t("click",e)},l=e=>{var t,n,r;(null==(r=null==(n=null==(t=null==e?void 0:e.component)?void 0:t.subTree)?void 0:n.component)?void 0:r.bum)&&(e.component.subTree.component.bum=null)};return(e,t)=>e.disableTransitions?(E(),O("span",{key:0,class:F(M(i)),style:N({backgroundColor:e.color}),onClick:s},[T("span",{class:F(M(o).e("content"))},[L(e.$slots,"default")],2),e.closable?(E(),_(M(ft),{key:0,class:F(M(o).e("close")),onClick:H(a,["stop"])},{default:P(()=>[z(M(bt))]),_:1},8,["class","onClick"])):I("v-if",!0)],6)):(E(),_(Y,{key:1,name:`${M(o).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:P(()=>[T("span",{class:F(M(i)),style:N({backgroundColor:e.color}),onClick:s},[T("span",{class:F(M(o).e("content"))},[L(e.$slots,"default")],2),e.closable?(E(),_(M(ft),{key:0,class:F(M(o).e("close")),onClick:H(a,["stop"])},{default:P(()=>[z(M(bt))]),_:1},8,["class","onClick"])):I("v-if",!0)],6)]),_:3},8,["name"]))}}),[["__file","tag.vue"]])),Jn=e=>{if(!e)return{onClick:B,onMousedown:B,onMouseup:B};let t=!1,n=!1;return{onClick:r=>{t&&n&&e(r),t=n=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{n=e.target===e.currentTarget}}},Qn=l({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:u([String,Array,Object])},zIndex:{type:u([String,Number])}});const Zn=m({name:"ElOverlay",props:Qn,emits:{click:e=>e instanceof MouseEvent},setup(e,{slots:t,emit:n}){const r=x("overlay"),{onClick:o,onMousedown:i,onMouseup:a}=Jn(e.customMaskEvent?void 0:e=>{n("click",e)});return()=>e.mask?z("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:o,onMousedown:i,onMouseup:a},[L(t,"default")],Un.STYLE|Un.CLASS|Un.PROPS,["onClick","onMouseup","onMousedown"]):V("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[L(t,"default")])}}),er=Symbol("dialogInjectionKey"),tr=l({center:Boolean,alignCenter:Boolean,closeIcon:{type:tt},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),nr=(e,t,n,r)=>{const o={offsetX:0,offsetY:0},i=(t,n)=>{if(e.value){const{offsetX:i,offsetY:a}=o,s=e.value.getBoundingClientRect(),l=s.left,u=s.top,c=s.width,p=s.height,d=document.documentElement.clientWidth,h=document.documentElement.clientHeight,f=-l+i,v=-u+a,g=d-l-c+i,m=h-u-(p<h?p:0)+a;(null==r?void 0:r.value)||(t=Math.min(Math.max(t,f),g),n=Math.min(Math.max(n,v),m)),o.offsetX=t,o.offsetY=n,e.value.style.transform=`translate(${wt(t)}, ${wt(n)})`}},a=e=>{const t=e.clientX,n=e.clientY,{offsetX:r,offsetY:a}=o,s=e=>{const o=r+e.clientX-t,s=a+e.clientY-n;i(o,s)},l=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)},s=()=>{t.value&&e.value&&(t.value.removeEventListener("mousedown",a),window.removeEventListener("resize",l))},l=()=>{const{offsetX:e,offsetY:t}=o;i(e,t)};return S(()=>{K(()=>{n.value?t.value&&e.value&&(t.value.addEventListener("mousedown",a),window.addEventListener("resize",l)):s()})}),G(()=>{s()}),{resetPosition:()=>{o.offsetX=0,o.offsetY=0,e.value&&(e.value.style.transform="")},updatePosition:l}},rr=m({name:"ElDialogContent"});var or=it(m({...rr,props:tr,emits:{close:()=>!0},setup(e,{expose:t}){const n=e,{t:r}=J(),{Close:o}=xt,{dialogRef:i,headerRef:a,bodyId:s,ns:l,style:u}=Q(er),{focusTrapRef:c}=Q(Ct),p=w(()=>[l.b(),l.is("fullscreen",n.fullscreen),l.is("draggable",n.draggable),l.is("align-center",n.alignCenter),{[l.m("center")]:n.center}]),d=((...e)=>t=>{e.forEach(e=>{v(e)?e(t):e.value=t})})(c,i),h=w(()=>n.draggable),f=w(()=>n.overflow),{resetPosition:g,updatePosition:m}=nr(i,a,h,f);return t({resetPosition:g,updatePosition:m}),(e,t)=>(E(),O("div",{ref:M(d),class:F(M(p)),style:N(M(u)),tabindex:"-1"},[T("header",{ref_key:"headerRef",ref:a,class:F([M(l).e("header"),e.headerClass,{"show-close":e.showClose}])},[L(e.$slots,"header",{},()=>[T("span",{role:"heading","aria-level":e.ariaLevel,class:F(M(l).e("title"))},$(e.title),11,["aria-level"])]),e.showClose?(E(),O("button",{key:0,"aria-label":M(r)("el.dialog.close"),class:F(M(l).e("headerbtn")),type:"button",onClick:t=>e.$emit("close")},[z(M(ft),{class:F(M(l).e("close"))},{default:P(()=>[(E(),_(R(e.closeIcon||M(o))))]),_:1},8,["class"])],10,["aria-label","onClick"])):I("v-if",!0)],2),T("div",{id:M(s),class:F([M(l).e("body"),e.bodyClass])},[L(e.$slots,"default")],10,["id"]),e.$slots.footer?(E(),O("footer",{key:0,class:F([M(l).e("footer"),e.footerClass])},[L(e.$slots,"footer")],2)):I("v-if",!0)],6))}}),[["__file","dialog-content.vue"]]);const ir=l({...tr,appendToBody:Boolean,appendTo:{type:St.to.type,default:"body"},beforeClose:{type:u(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),ar={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Qe]:e=>Z(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},sr=(e,t)=>{var n;const r=p().emit,{nextZIndex:o}=ne();let a="";const s=Ft(),l=Ft(),u=h(!1),c=h(!1),d=h(!1),v=h(null!=(n=e.zIndex)?n:o());let m,y;const b=re("namespace",oe),C=w(()=>{const t={},n=`--${b.value}-dialog`;return e.fullscreen||(e.top&&(t[`${n}-margin-top`]=e.top),e.width&&(t[`${n}-width`]=wt(e.width))),t}),k=w(()=>e.alignCenter?{display:"flex"}:{});function O(){null==y||y(),null==m||m(),e.openDelay&&e.openDelay>0?({stop:m}=ie(()=>A(),e.openDelay)):A()}function E(){null==m||m(),null==y||y(),e.closeDelay&&e.closeDelay>0?({stop:y}=ie(()=>T(),e.closeDelay)):T()}function I(){e.beforeClose?e.beforeClose(function(e){e||(c.value=!0,u.value=!1)}):E()}function A(){i&&(u.value=!0)}function T(){u.value=!1}return e.lockScroll&&((e,t={})=>{ee(e)||kt("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||x("popup"),r=w(()=>n.bm("parent","hidden"));if(!i||Ot(document.body,r.value))return;let o=0,a=!1,s="0";const l=()=>{setTimeout(()=>{"undefined"!=typeof document&&a&&document&&(document.body.style.width=s,Tt(document.body,r.value))},200)};f(e,e=>{if(!e)return void l();a=!Ot(document.body,r.value),a&&(s=document.body.style.width,Et(document.body,r.value)),o=It(n.namespace.value);const t=document.documentElement.clientHeight<document.body.scrollHeight,i=At(document.body,"overflowY");o>0&&(t||"scroll"===i)&&a&&(document.body.style.width=`calc(100% - ${o}px)`)}),te(()=>l())})(u),f(()=>e.zIndex,()=>{var t;v.value=null!=(t=e.zIndex)?t:o()}),f(()=>e.modelValue,n=>{var i;n?(c.value=!1,O(),d.value=!0,v.value=null!=(i=e.zIndex)?i:o(),g(()=>{r("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):u.value&&E()}),f(()=>e.fullscreen,e=>{t.value&&(e?(a=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=a)}),S(()=>{e.modelValue&&(u.value=!0,d.value=!0,O())}),{afterEnter:function(){r("opened")},afterLeave:function(){r("closed"),r(Qe,!1),e.destroyOnClose&&(d.value=!1)},beforeLeave:function(){r("close")},handleClose:I,onModalClick:function(){e.closeOnClickModal&&I()},close:E,doClose:T,onOpenAutoFocus:function(){r("openAutoFocus")},onCloseAutoFocus:function(){r("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&I()},onFocusoutPrevented:function(e){var t;"pointer"===(null==(t=e.detail)?void 0:t.focusReason)&&e.preventDefault()},titleId:s,bodyId:l,closed:c,style:C,overlayDialogStyle:k,rendered:d,visible:u,zIndex:v}},lr=m({name:"ElDialog",inheritAttrs:!1});const ur=W(it(m({...lr,props:ir,emits:ar,setup(e,{expose:t}){const n=e,r=b();Mt({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},w(()=>!!r.title));const o=x("dialog"),i=h(),a=h(),s=h(),{visible:l,titleId:u,bodyId:c,style:p,overlayDialogStyle:d,rendered:f,zIndex:v,afterEnter:g,afterLeave:m,beforeLeave:y,handleClose:C,onModalClick:S,onOpenAutoFocus:k,onCloseAutoFocus:O,onCloseRequested:A,onFocusoutPrevented:R}=sr(n,i);ue(er,{dialogRef:i,headerRef:a,bodyId:c,ns:o,rendered:f,style:p});const H=Jn(S),B=w(()=>n.draggable&&!n.fullscreen);return t({visible:l,dialogContentRef:s,resetPosition:()=>{var e;null==(e=s.value)||e.resetPosition()},handleClose:C}),(e,t)=>(E(),_(M(_t),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:P(()=>[z(Y,{name:"dialog-fade",onAfterEnter:M(g),onAfterLeave:M(m),onBeforeLeave:M(y),persisted:""},{default:P(()=>[ae(z(M(Zn),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":M(v)},{default:P(()=>[T("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:M(u),"aria-describedby":M(c),class:F(`${M(o).namespace.value}-overlay-dialog`),style:N(M(d)),onClick:M(H).onClick,onMousedown:M(H).onMousedown,onMouseup:M(H).onMouseup},[z(M(Lt),{loop:"",trapped:M(l),"focus-start-el":"container",onFocusAfterTrapped:M(k),onFocusAfterReleased:M(O),onFocusoutPrevented:M(R),onReleaseRequested:M(A)},{default:P(()=>[M(f)?(E(),_(or,j({key:0,ref_key:"dialogContentRef",ref:s},e.$attrs,{center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:M(B),overflow:e.overflow,fullscreen:e.fullscreen,"header-class":e.headerClass,"body-class":e.bodyClass,"footer-class":e.footerClass,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:M(C)}),se({header:P(()=>[e.$slots.title?L(e.$slots,"title",{key:1}):L(e.$slots,"header",{key:0,close:M(C),titleId:M(u),titleClass:M(o).e("title")})]),default:P(()=>[L(e.$slots,"default")]),_:2},[e.$slots.footer?{name:"footer",fn:P(()=>[L(e.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):I("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[le,M(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}}),[["__file","dialog.vue"]])),cr=l({size:{type:String,values:X},disabled:Boolean}),pr=l({...cr,model:Object,rules:{type:u(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean],default:!0}}),dr={validate:(e,t,n)=>(D(e)||s(e))&&Z(t)&&s(n)};function hr(){const e=h([]),t=w(()=>{if(!e.value.length)return"0";const t=Math.max(...e.value);return t?`${t}px`:""});function n(n){const r=e.value.indexOf(n);return-1===r&&t.value,r}return{autoLabelWidth:t,registerLabelWidth:function(t,r){if(t&&r){const o=n(r);e.value.splice(o,1,t)}else t&&e.value.push(t)},deregisterLabelWidth:function(t){const r=n(t);r>-1&&e.value.splice(r,1)}}}const fr=(e,t)=>{const n=gn(t).map(e=>D(e)?e.join("."):e);return n.length>0?e.filter(e=>e.propString&&n.includes(e.propString)):e},vr=m({name:"ElForm"});var gr=it(m({...vr,props:pr,emits:dr,setup(e,{expose:t,emit:n}){const r=e,o=h(),i=ce([]),a=st(),s=x("form"),l=w(()=>{const{labelPosition:e,inline:t}=r;return[s.b(),s.m(a.value||"default"),{[s.m(`label-${e}`)]:e,[s.m("inline")]:t}]}),u=e=>fr(i,[e])[0],c=(e=[])=>{r.model&&fr(i,e).forEach(e=>e.resetField())},p=(e=[])=>{fr(i,e).forEach(e=>e.clearValidate())},d=w(()=>!!r.model),g=async e=>y(void 0,e),m=async(e=[])=>{if(!d.value)return!1;const t=(e=>{if(0===i.length)return[];const t=fr(i,e);return t.length?t:[]})(e);if(0===t.length)return!0;let n={};for(const o of t)try{await o.validate(""),"error"===o.validateState&&o.resetField()}catch(r){n={...n,...r}}return 0===Object.keys(n).length||Promise.reject(n)},y=async(e=[],t)=>{let n=!1;const i=!v(t);try{return n=await m(e),!0===n&&await(null==t?void 0:t(n)),n}catch(a){if(a instanceof Error)throw a;const e=a;if(r.scrollToError&&o.value){const e=o.value.querySelector(`.${s.b()}-item.is-error`);null==e||e.scrollIntoView(r.scrollIntoViewOptions)}return!n&&await(null==t?void 0:t(!1,e)),i&&Promise.reject(e)}};return f(()=>r.rules,()=>{r.validateOnRuleChange&&g().catch(e=>yt())},{deep:!0,flush:"post"}),ue(Pt,ce({...pe(r),emit:n,resetFields:c,clearValidate:p,validateField:y,getField:u,addField:e=>{i.push(e)},removeField:e=>{e.prop&&i.splice(i.indexOf(e),1)},...hr()})),t({validate:g,validateField:y,resetFields:c,clearValidate:p,scrollToField:e=>{var t;const n=u(e);n&&(null==(t=n.$el)||t.scrollIntoView(r.scrollIntoViewOptions))},getField:u,fields:i}),(e,t)=>(E(),O("form",{ref_key:"formRef",ref:o,class:F(M(l))},[L(e.$slots,"default")],2))}}),[["__file","form.vue"]]);function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mr.apply(this,arguments)}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t){return(br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wr(e,t,n){return(wr=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&br(o,n.prototype),o}).apply(null,arguments)}function xr(e){var t="function"==typeof Map?new Map:void 0;return xr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return wr(e,arguments,yr(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),br(r,e)},xr(e)}var Cr=/%[sdj%]/g;function Sr(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(Cr,function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(t){return"[Circular]"}break;default:return e}}):e}function Or(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function Er(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<o?t(e[s],i):n([])}}([])}var Ir=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,br(t,n),r}(xr(Error));function Ar(e,t,n,r,o){if(t.first){var i=new Promise(function(t,i){var a=function(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}(e);Er(a,n,function(e){return r(e),e.length?i(new Ir(e,Sr(e))):t(o)})});return i.catch(function(e){return e}),i}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,u=0,c=[],p=new Promise(function(t,i){var p=function(e){if(c.push.apply(c,e),++u===l)return r(c),c.length?i(new Ir(c,Sr(c))):t(o)};s.length||(r(c),t(o)),s.forEach(function(t){var r=e[t];-1!==a.indexOf(t)?Er(r,n,p):function(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,e||[]),++o===i&&n(r)}e.forEach(function(e){t(e,a)})}(r,n,p)})});return p.catch(function(e){return e}),p}function Tr(e,t){return function(n){var r,o;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(o=n)&&void 0!==o.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function Fr(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"==typeof r&&"object"==typeof e[n]?e[n]=mr({},e[n],r):e[n]=r}return e}var Mr,Lr=function(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!Or(t,i||e.type)||r.push(kr(o.messages.required,e.fullField))},_r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Pr=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Rr={integer:function(e){return Rr.number(e)&&parseInt(e,10)===e},float:function(e){return Rr.number(e)&&!Rr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!Rr.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(_r)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(Mr)return Mr;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+o+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+o+"$"),l=function(e){return e&&e.exact?i:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+o+t(e)+")","g")};l.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+o+t(e),"g")};var u=l.v4().source,c=l.v6().source;return Mr=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+u+"|"+c+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(Pr)}},jr="enum",zr={required:Lr,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(kr(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)Lr(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?Rr[i](t)||r.push(kr(o.messages.types[i],e.fullField,e.type)):i&&typeof t!==e.type&&r.push(kr(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"==typeof e.len,a="number"==typeof e.min,s="number"==typeof e.max,l=t,u=null,c="number"==typeof t,p="string"==typeof t,d=Array.isArray(t);if(c?u="number":p?u="string":d&&(u="array"),!u)return!1;d&&(l=t.length),p&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?l!==e.len&&r.push(kr(o.messages[u].len,e.fullField,e.len)):a&&!s&&l<e.min?r.push(kr(o.messages[u].min,e.fullField,e.min)):s&&!a&&l>e.max?r.push(kr(o.messages[u].max,e.fullField,e.max)):a&&s&&(l<e.min||l>e.max)&&r.push(kr(o.messages[u].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e[jr]=Array.isArray(e[jr])?e[jr]:[],-1===e[jr].indexOf(t)&&r.push(kr(o.messages[jr],e.fullField,e[jr].join(", ")))},pattern:function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(kr(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(kr(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Hr=function(e,t,n,r,o){var i=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t,i)&&!e.required)return n();zr.required(e,t,r,a,o,i),Or(t,i)||zr.type(e,t,r,a,o)}n(a)},Br={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t,"string")&&!e.required)return n();zr.required(e,t,r,i,o,"string"),Or(t,"string")||(zr.type(e,t,r,i,o),zr.range(e,t,r,i,o),zr.pattern(e,t,r,i,o),!0===e.whitespace&&zr.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t)&&!e.required)return n();zr.required(e,t,r,i,o),void 0!==t&&zr.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Or(t)&&!e.required)return n();zr.required(e,t,r,i,o),void 0!==t&&(zr.type(e,t,r,i,o),zr.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t)&&!e.required)return n();zr.required(e,t,r,i,o),void 0!==t&&zr.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t)&&!e.required)return n();zr.required(e,t,r,i,o),Or(t)||zr.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t)&&!e.required)return n();zr.required(e,t,r,i,o),void 0!==t&&(zr.type(e,t,r,i,o),zr.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t)&&!e.required)return n();zr.required(e,t,r,i,o),void 0!==t&&(zr.type(e,t,r,i,o),zr.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();zr.required(e,t,r,i,o,"array"),null!=t&&(zr.type(e,t,r,i,o),zr.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t)&&!e.required)return n();zr.required(e,t,r,i,o),void 0!==t&&zr.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t)&&!e.required)return n();zr.required(e,t,r,i,o),void 0!==t&&zr.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t,"string")&&!e.required)return n();zr.required(e,t,r,i,o),Or(t,"string")||zr.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t,"date")&&!e.required)return n();var a;if(zr.required(e,t,r,i,o),!Or(t,"date"))a=t instanceof Date?t:new Date(t),zr.type(e,a,r,i,o),a&&zr.range(e,a.getTime(),r,i,o)}n(i)},url:Hr,hex:Hr,email:Hr,required:function(e,t,n,r,o){var i=[],a=Array.isArray(t)?"array":typeof t;zr.required(e,t,r,i,o,a),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Or(t)&&!e.required)return n();zr.required(e,t,r,i,o)}n(i)}};function $r(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Nr=$r(),qr=function(){function e(e){this.rules=null,this._messages=Nr,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]})},t.messages=function(e){return e&&(this._messages=Fr($r(),e)),this._messages},t.validate=function(t,n,r){var o=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var i=t,a=n,s=r;if("function"==typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,i),Promise.resolve(i);if(a.messages){var l=this.messages();l===Nr&&(l=$r()),Fr(l,a.messages),a.messages=l}else a.messages=this.messages();var u={};(a.keys||Object.keys(this.rules)).forEach(function(e){var n=o.rules[e],r=i[e];n.forEach(function(n){var a=n;"function"==typeof a.transform&&(i===t&&(i=mr({},i)),r=i[e]=a.transform(r)),(a="function"==typeof a?{validator:a}:mr({},a)).validator=o.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=o.getType(a),u[e]=u[e]||[],u[e].push({rule:a,value:r,source:i,field:e}))})});var c={};return Ar(u,a,function(t,n){var r,o=t.rule,s=!("object"!==o.type&&"array"!==o.type||"object"!=typeof o.fields&&"object"!=typeof o.defaultField);function l(e,t){return mr({},t,{fullField:o.fullField+"."+e,fullFields:o.fullFields?[].concat(o.fullFields,[e]):[e]})}function u(r){void 0===r&&(r=[]);var u=Array.isArray(r)?r:[r];!a.suppressWarning&&u.length&&e.warning("async-validator:",u),u.length&&void 0!==o.message&&(u=[].concat(o.message));var p=u.map(Tr(o,i));if(a.first&&p.length)return c[o.field]=1,n(p);if(s){if(o.required&&!t.value)return void 0!==o.message?p=[].concat(o.message).map(Tr(o,i)):a.error&&(p=[a.error(o,kr(a.messages.required,o.field))]),n(p);var d={};o.defaultField&&Object.keys(t.value).map(function(e){d[e]=o.defaultField}),d=mr({},d,t.rule.fields);var h={};Object.keys(d).forEach(function(e){var t=d[e],n=Array.isArray(t)?t:[t];h[e]=n.map(l.bind(null,e))});var f=new e(h);f.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),f.validate(t.value,t.rule.options||a,function(e){var t=[];p&&p.length&&t.push.apply(t,p),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)})}else n(p)}if(s=s&&(o.required||!o.required&&t.value),o.field=t.field,o.asyncValidator)r=o.asyncValidator(o,t.value,u,t.source,a);else if(o.validator){try{r=o.validator(o,t.value,u,t.source,a)}catch(p){null==console.error||console.error(p),a.suppressValidatorError||setTimeout(function(){throw p},0),u(p.message)}!0===r?u():!1===r?u("function"==typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):r instanceof Array?u(r):r instanceof Error&&u(r.message)}r&&r.then&&r.then(function(){return u()},function(e){return u(e)})},function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var o=0;o<e.length;o++)r(e[o]);t.length?(n=Sr(t),s(t,n)):s(null,i)}(e)},i)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!Br.hasOwnProperty(e.type))throw new Error(kr("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Br.required:Br[this.getType(e)]||void 0},e}();qr.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Br[e]=t},qr.warning=function(){},qr.messages=Nr,qr.validators=Br;const Wr=l({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:u([String,Array])},required:{type:Boolean,default:void 0},rules:{type:u([Object,Array])},error:String,validateStatus:{type:String,values:["","error","validating","success"]},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:X}}),Dr="ElLabelWrap";var Ur=m({name:Dr,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=Q(Pt,void 0),r=Q(Rt);r||kt(Dr,"usage: <el-form-item><label-wrap /></el-form-item>");const o=x("form"),i=h(),a=h(0),s=(r="update")=>{g(()=>{t.default&&e.isAutoWidth&&("update"===r?a.value=(()=>{var e;if(null==(e=i.value)?void 0:e.firstElementChild){const e=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(e))}return 0})():"remove"===r&&(null==n||n.deregisterLabelWidth(a.value)))})},l=()=>s("update");return S(()=>{l()}),G(()=>{s("remove")}),de(()=>l()),f(a,(t,r)=>{e.updateAll&&(null==n||n.registerLabelWidth(t,r))}),ht(w(()=>{var e,t;return null!=(t=null==(e=i.value)?void 0:e.firstElementChild)?t:null}),l),()=>{var s,l;if(!t)return null;const{isAutoWidth:u}=e;if(u){const e=null==n?void 0:n.autoLabelWidth,l={};if((null==r?void 0:r.hasLabel)&&e&&"auto"!==e){const t=Math.max(0,Number.parseInt(e,10)-a.value),o=r.labelPosition||n.labelPosition;t&&(l["left"===o?"marginRight":"marginLeft"]=`${t}px`)}return z("div",{ref:i,class:[o.be("item","label-wrap")],style:l},[null==(s=t.default)?void 0:s.call(t)])}return z(A,{ref:i},[null==(l=t.default)?void 0:l.call(t)])}}});const Xr=m({name:"ElFormItem"});var Yr=it(m({...Xr,props:Wr,setup(e,{expose:t}){const n=e,r=b(),o=Q(Pt,void 0),i=Q(Rt,void 0),a=st(void 0,{formItem:!1}),s=x("form-item"),l=Ft().value,u=h([]),c=h(""),p=he(c,100),d=h(""),m=h();let y,C=!1;const k=w(()=>n.labelPosition||(null==o?void 0:o.labelPosition)),A=w(()=>{if("top"===k.value)return{};const e=wt(n.labelWidth||(null==o?void 0:o.labelWidth)||"");return e?{width:e}:{}}),j=w(()=>{if("top"===k.value||(null==o?void 0:o.inline))return{};if(!n.label&&!n.labelWidth&&V)return{};const e=wt(n.labelWidth||(null==o?void 0:o.labelWidth)||"");return n.label||r.label?{}:{marginLeft:e}}),H=w(()=>[s.b(),s.m(a.value),s.is("error","error"===c.value),s.is("validating","validating"===c.value),s.is("success","success"===c.value),s.is("required",te.value||n.required),s.is("no-asterisk",null==o?void 0:o.hideRequiredAsterisk),"right"===(null==o?void 0:o.requireAsteriskPosition)?"asterisk-right":"asterisk-left",{[s.m("feedback")]:null==o?void 0:o.statusIcon,[s.m(`label-${k.value}`)]:k.value}]),B=w(()=>Z(n.inlineMessage)?n.inlineMessage:(null==o?void 0:o.inlineMessage)||!1),q=w(()=>[s.e("error"),{[s.em("error","inline")]:B.value}]),W=w(()=>n.prop?D(n.prop)?n.prop.join("."):n.prop:""),U=w(()=>!(!n.label&&!r.label)),X=w(()=>{var e;return null!=(e=n.for)?e:1===u.value.length?u.value[0]:void 0}),Y=w(()=>!X.value&&U.value),V=!!i,K=w(()=>{const e=null==o?void 0:o.model;if(e&&n.prop)return fe(e,n.prop).value}),J=w(()=>{const{required:e}=n,t=[];n.rules&&t.push(...gn(n.rules));const r=null==o?void 0:o.rules;if(r&&n.prop){const e=fe(r,n.prop).value;e&&t.push(...gn(e))}if(void 0!==e){const n=t.map((e,t)=>[e,t]).filter(([e])=>Object.keys(e).includes("required"));if(n.length>0)for(const[r,o]of n)r.required!==e&&(t[o]={...r,required:e});else t.push({required:e})}return t}),ee=w(()=>J.value.length>0),te=w(()=>J.value.some(e=>e.required)),ne=w(()=>{var e;return"error"===p.value&&n.showMessage&&(null==(e=null==o?void 0:o.showMessage)||e)}),re=w(()=>`${n.label||""}${(null==o?void 0:o.labelSuffix)||""}`),oe=e=>{c.value=e},ie=async e=>{const t=W.value;return new qr({[t]:e}).validate({[t]:K.value},{firstFields:!0}).then(()=>(oe("success"),null==o||o.emit("validate",n.prop,!0,""),!0)).catch(e=>((e=>{var t,r;const{errors:i,fields:a}=e;i&&a||console.error(e),oe("error"),d.value=i?null!=(r=null==(t=null==i?void 0:i[0])?void 0:t.message)?r:`${n.prop} is required`:"",null==o||o.emit("validate",n.prop,!1,d.value)})(e),Promise.reject(e)))},ae=async(e,t)=>{if(C||!n.prop)return!1;const r=v(t);if(!ee.value)return null==t||t(!1),!1;const o=(e=>J.value.filter(t=>!t.trigger||!e||(D(t.trigger)?t.trigger.includes(e):t.trigger===e)).map(({trigger:e,...t})=>t))(e);return 0===o.length?(null==t||t(!0),!0):(oe("validating"),ie(o).then(()=>(null==t||t(!0),!0)).catch(e=>{const{fields:n}=e;return null==t||t(!1,n),!r&&Promise.reject(n)}))},se=()=>{oe(""),d.value="",C=!1},le=async()=>{const e=null==o?void 0:o.model;if(!e||!n.prop)return;const t=fe(e,n.prop);C=!0,t.value=_n(y),await g(),se(),C=!1};f(()=>n.error,e=>{d.value=e||"",oe(e?"error":"")},{immediate:!0}),f(()=>n.validateStatus,e=>oe(e||""));const de=ce({...pe(n),$el:m,size:a,validateMessage:d,validateState:c,labelId:l,inputIds:u,isGroup:Y,hasLabel:U,fieldValue:K,addInputId:e=>{u.value.includes(e)||u.value.push(e)},removeInputId:e=>{u.value=u.value.filter(t=>t!==e)},resetField:le,clearValidate:se,validate:ae,propString:W});return ue(Rt,de),S(()=>{n.prop&&(null==o||o.addField(de),y=_n(K.value))}),G(()=>{null==o||o.removeField(de)}),t({size:a,validateMessage:d,validateState:c,validate:ae,clearValidate:se,resetField:le}),(e,t)=>{var n;return E(),O("div",{ref_key:"formItemRef",ref:m,class:F(M(H)),role:M(Y)?"group":void 0,"aria-labelledby":M(Y)?M(l):void 0},[z(M(Ur),{"is-auto-width":"auto"===M(A).width,"update-all":"auto"===(null==(n=M(o))?void 0:n.labelWidth)},{default:P(()=>[M(U)?(E(),_(R(M(X)?"label":"div"),{key:0,id:M(l),for:M(X),class:F(M(s).e("label")),style:N(M(A))},{default:P(()=>[L(e.$slots,"label",{label:M(re)},()=>[ve($(M(re)),1)])]),_:3},8,["id","for","class","style"])):I("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),T("div",{class:F(M(s).e("content")),style:N(M(j))},[L(e.$slots,"default"),z(ge,{name:`${M(s).namespace.value}-zoom-in-top`},{default:P(()=>[M(ne)?L(e.$slots,"error",{key:0,error:d.value},()=>[T("div",{class:F(M(q))},$(d.value),3)]):I("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}}),[["__file","form-item.vue"]]);const Vr=W(gr,{FormItem:Yr}),Kr=me(Yr);const Gr=Symbol("ElSelectGroup"),Jr=Symbol("ElSelect"),Qr="ElOption",Zr=l({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean});var eo=it(m({name:Qr,componentName:Qr,props:Zr,setup(e){const t=x("select"),n=Ft(),r=w(()=>[t.be("dropdown","item"),t.is("disabled",M(s)),t.is("selected",M(a)),t.is("hovering",M(h))]),o=ce({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:i,itemSelected:a,isDisabled:s,select:l,hoverItem:u,updateOption:c}=function(e,t){const n=Q(Jr);n||kt(Qr,"usage: <el-select><el-option /></el-select/>");const r=Q(Gr,{disabled:!1}),o=w(()=>c(gn(n.props.modelValue),e.value)),i=w(()=>{var e;if(n.props.multiple){const t=gn(null!=(e=n.props.modelValue)?e:[]);return!o.value&&t.length>=n.props.multipleLimit&&n.props.multipleLimit>0}return!1}),a=w(()=>{var t;return null!=(t=e.label)?t:q(e.value)?"":e.value}),s=w(()=>e.value||e.label||""),l=w(()=>e.disabled||t.groupDisabled||i.value),u=p(),c=(t=[],r)=>{if(q(e.value)){const e=n.props.valueKey;return t&&t.some(t=>ye(be(t,e))===be(r,e))}return t&&t.includes(r)};return f(()=>a.value,()=>{e.created||n.props.remote||n.setSelected()}),f(()=>e.value,(t,r)=>{const{remote:o,valueKey:i}=n.props;if((o?t!==r:!jt(t,r))&&(n.onOptionDestroy(r,u.proxy),n.onOptionCreate(u.proxy)),!e.created&&!o){if(i&&q(t)&&q(r)&&t[i]===r[i])return;n.setSelected()}}),f(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:a,currentValue:s,itemSelected:o,isDisabled:l,hoverItem:()=>{e.disabled||r.disabled||(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},updateOption:n=>{const r=new RegExp(((e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"))(n),"i");t.visible=r.test(String(a.value))||e.created}}}(e,o),{visible:d,hover:h}=pe(o),v=p().proxy;return l.onOptionCreate(v),G(()=>{const e=v.value,{selected:t}=l.states,n=t.some(e=>e.value===v.value);g(()=>{l.states.cachedOptions.get(e)!==v||n||l.states.cachedOptions.delete(e)}),l.onOptionDestroy(e,v)}),{ns:t,id:n,containerKls:r,currentLabel:i,itemSelected:a,isDisabled:s,select:l,visible:d,hover:h,states:o,hoverItem:u,updateOption:c,selectOptionClick:function(){s.value||l.handleOptionSelect(v)}}}}),[["render",function(e,t){return ae((E(),O("li",{id:e.id,class:F(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:H(e.selectOptionClick,["stop"])},[L(e.$slots,"default",{},()=>[T("span",null,$(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[le,e.visible]])}],["__file","option.vue"]]);var to=it(m({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Q(Jr),t=x("select"),n=w(()=>e.props.popperClass),r=w(()=>e.props.multiple),o=w(()=>e.props.fitInputWidth),i=h("");function a(){var t;i.value=`${null==(t=e.selectRef)?void 0:t.offsetWidth}px`}return S(()=>{a(),ht(e.selectRef,a)}),{ns:t,minWidth:i,popperClass:n,isMultiple:r,isFitInputWidth:o}}}),[["render",function(e,t,n,r,o,i){return E(),O("div",{class:F([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:N({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(E(),O("div",{key:0,class:F(e.ns.be("dropdown","header"))},[L(e.$slots,"header")],2)):I("v-if",!0),L(e.$slots,"default"),e.$slots.footer?(E(),O("div",{key:1,class:F(e.ns.be("dropdown","footer"))},[L(e.$slots,"footer")],2)):I("v-if",!0)],6)}],["__file","select-dropdown.vue"]]);const no=(e,t)=>{const{t:n}=J(),r=Ft(),o=x("select"),s=x("input"),l=ce({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),u=h(),c=h(),p=h(),d=h(),m=h(),y=h(),b=h(),C=h(),k=h(),O=h(),E=h(),{isComposing:I,handleCompositionStart:A,handleCompositionUpdate:T,handleCompositionEnd:F}=qn({afterComposition:e=>Ie(e)}),{wrapperRef:M,isFocused:L,handleBlur:_}=Nn(m,{beforeFocus:()=>N.value,afterFocus(){e.automaticDropdown&&!P.value&&(P.value=!0,l.menuVisibleOnFocus=!0)},beforeBlur(e){var t,n;return(null==(t=p.value)?void 0:t.isFocusInsideContent(e))||(null==(n=d.value)?void 0:n.isFocusInsideContent(e))},afterBlur(){var t;P.value=!1,l.menuVisibleOnFocus=!1,e.validateEvent&&(null==(t=null==z?void 0:z.validate)||t.call(z,"blur").catch(e=>yt()))}}),P=h(!1),R=h(),{form:j,formItem:z}=lt(),{inputId:H}=ut(e,{formItemContext:z}),{valueOnClear:B,isEmptyValue:$}=we(e),N=w(()=>e.disabled||(null==j?void 0:j.disabled)),W=w(()=>D(e.modelValue)?e.modelValue.length>0:!$(e.modelValue)),U=w(()=>{var e;return null!=(e=null==j?void 0:j.statusIcon)&&e}),X=w(()=>e.clearable&&!N.value&&l.inputHovering&&W.value),Y=w(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),V=w(()=>o.is("reverse",!(!Y.value||!P.value))),G=w(()=>(null==z?void 0:z.validateState)||""),Q=w(()=>G.value&&ct[G.value]),Z=w(()=>e.remote?300:0),ee=w(()=>e.remote&&!l.inputValue&&0===l.options.size),te=w(()=>e.loading?e.loadingText||n("el.select.loading"):e.filterable&&l.inputValue&&l.options.size>0&&0===ne.value?e.noMatchText||n("el.select.noMatch"):0===l.options.size?e.noDataText||n("el.select.noData"):null),ne=w(()=>re.value.filter(e=>e.visible).length),re=w(()=>{const e=Array.from(l.options.values()),t=[];return l.optionValues.forEach(n=>{const r=e.findIndex(e=>e.value===n);r>-1&&t.push(e[r])}),t.length>=e.length?t:e}),oe=w(()=>Array.from(l.cachedOptions.values())),ie=w(()=>{const t=re.value.filter(e=>!e.created).some(e=>e.currentLabel===l.inputValue);return e.filterable&&e.allowCreate&&""!==l.inputValue&&!t}),ae=()=>{e.filterable&&v(e.filterMethod)||e.filterable&&e.remote&&v(e.remoteMethod)||re.value.forEach(e=>{var t;null==(t=e.updateOption)||t.call(e,l.inputValue)})},se=st(),le=w(()=>["small"].includes(se.value)?"small":"default"),ue=w({get:()=>P.value&&!ee.value,set(e){P.value=e}}),pe=w(()=>{if(e.multiple&&!xe(e.modelValue))return 0===gn(e.modelValue).length&&!l.inputValue;const t=D(e.modelValue)?e.modelValue[0]:e.modelValue;return!e.filterable&&!xe(t)||!l.inputValue}),de=w(()=>{var t;const r=null!=(t=e.placeholder)?t:n("el.select.placeholder");return e.multiple||!W.value?r:l.selectedLabel}),he=w(()=>Ce?null:"mouseenter");f(()=>e.modelValue,(t,n)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(l.inputValue="",fe("")),ge(),!jt(t,n)&&e.validateEvent&&(null==z||z.validate("change").catch(e=>yt()))},{flush:"post",deep:!0}),f(()=>P.value,e=>{e?fe(l.inputValue):(l.inputValue="",l.previousQuery=null,l.isBeforeHide=!0),t("visible-change",e)}),f(()=>l.options.entries(),()=>{i&&(ge(),e.defaultFirstOption&&(e.filterable||e.remote)&&ne.value&&ve())},{flush:"post"}),f([()=>l.hoveringIndex,re],([e])=>{a(e)&&e>-1?R.value=re.value[e]||{}:R.value={},re.value.forEach(e=>{e.hover=R.value===e})}),K(()=>{l.isBeforeHide||ae()});const fe=t=>{l.previousQuery===t||I.value||(l.previousQuery=t,e.filterable&&v(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&v(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&ne.value?g(ve):g(ye))},ve=()=>{const e=re.value.filter(e=>e.visible&&!e.disabled&&!e.states.groupDisabled),t=e.find(e=>e.created),n=e[0],r=re.value.map(e=>e.value);l.hoveringIndex=_e(r,t||n)},ge=()=>{if(!e.multiple){const t=D(e.modelValue)?e.modelValue[0]:e.modelValue,n=me(t);return l.selectedLabel=n.currentLabel,void(l.selected=[n])}l.selectedLabel="";const t=[];xe(e.modelValue)||gn(e.modelValue).forEach(e=>{t.push(me(e))}),l.selected=t},me=t=>{let n;const r=Se(t);for(let o=l.cachedOptions.size-1;o>=0;o--){const i=oe.value[o];if(r?be(i.value,e.valueKey)===be(t,e.valueKey):i.value===t){n={value:t,currentLabel:i.currentLabel,get isDisabled(){return i.isDisabled}};break}}if(n)return n;return{value:t,currentLabel:r?t.label:null!=t?t:""}},ye=()=>{l.hoveringIndex=re.value.findIndex(e=>l.selected.some(t=>He(t)===He(e)))},ke=()=>{var e,t;null==(t=null==(e=p.value)?void 0:e.updatePopper)||t.call(e)},Oe=()=>{var e,t;null==(t=null==(e=d.value)?void 0:e.updatePopper)||t.call(e)},Ee=()=>{l.inputValue.length>0&&!P.value&&(P.value=!0),fe(l.inputValue)},Ie=t=>{if(l.inputValue=t.target.value,!e.remote)return Ee();Ae()},Ae=zt(()=>{Ee()},Z.value),Te=n=>{jt(e.modelValue,n)||t(mt,n)},Fe=e=>function(e,t){var n=null==e?0:e.length;if(!n)return-1;var r=n-1;return function(e,t,n){e.length;for(var r=n+1;r--;)if(t(e[r],r,e))return r;return-1}(e,Je(t),r)}(e,e=>{const t=l.cachedOptions.get(e);return t&&!t.disabled&&!t.states.groupDisabled}),Me=n=>{n.stopPropagation();const r=e.multiple?[]:B.value;if(e.multiple)for(const e of l.selected)e.isDisabled&&r.push(e.value);t(Qe,r),Te(r),l.hoveringIndex=-1,P.value=!1,t("clear"),je()},Le=n=>{var r;if(e.multiple){const o=gn(null!=(r=e.modelValue)?r:[]).slice(),i=_e(o,n);i>-1?o.splice(i,1):(e.multipleLimit<=0||o.length<e.multipleLimit)&&o.push(n.value),t(Qe,o),Te(o),n.created&&fe(""),e.filterable&&!e.reserveKeyword&&(l.inputValue="")}else t(Qe,n.value),Te(n.value),P.value=!1;je(),P.value||g(()=>{Pe(n)})},_e=(t,n)=>xe(n)?-1:q(n.value)?t.findIndex(t=>jt(be(t,e.valueKey),He(n))):t.indexOf(n.value),Pe=e=>{var t,n,r,i,a;const s=D(e)?e[0]:e;let l=null;if(null==s?void 0:s.value){const e=re.value.filter(e=>e.value===s.value);e.length>0&&(l=e[0].$el)}if(p.value&&l){const e=null==(i=null==(r=null==(n=null==(t=p.value)?void 0:t.popperRef)?void 0:n.contentRef)?void 0:r.querySelector)?void 0:i.call(r,`.${o.be("dropdown","wrap")}`);e&&Ht(e,l)}null==(a=E.value)||a.handleScroll()},Re=w(()=>{var e,t;return null==(t=null==(e=p.value)?void 0:e.popperRef)?void 0:t.contentRef}),je=()=>{var e;null==(e=m.value)||e.focus()},ze=()=>{N.value||(Ce&&(l.inputHovering=!0),l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:P.value=!P.value)},He=t=>q(t.value)?be(t.value,e.valueKey):t.value,Be=w(()=>re.value.filter(e=>e.visible).every(e=>e.isDisabled)),$e=w(()=>e.multiple?e.collapseTags?l.selected.slice(0,e.maxCollapseTags):l.selected:[]),Ne=w(()=>e.multiple&&e.collapseTags?l.selected.slice(e.maxCollapseTags):[]),qe=e=>{if(P.value){if(0!==l.options.size&&0!==ne.value&&!I.value&&!Be.value){"next"===e?(l.hoveringIndex++,l.hoveringIndex===l.options.size&&(l.hoveringIndex=0)):"prev"===e&&(l.hoveringIndex--,l.hoveringIndex<0&&(l.hoveringIndex=l.options.size-1));const t=re.value[l.hoveringIndex];!t.isDisabled&&t.visible||qe(e),g(()=>Pe(R.value))}}else P.value=!0},We=w(()=>{const t=(()=>{if(!c.value)return 0;const e=window.getComputedStyle(c.value);return Number.parseFloat(e.gap||"6px")})();return{maxWidth:`${O.value&&1===e.maxCollapseTags?l.selectionWidth-l.collapseItemWidth-t:l.selectionWidth}px`}}),De=w(()=>({maxWidth:`${l.selectionWidth}px`}));return ht(c,()=>{l.selectionWidth=Number.parseFloat(window.getComputedStyle(c.value).width)}),ht(C,ke),ht(M,ke),ht(k,Oe),ht(O,()=>{l.collapseItemWidth=O.value.getBoundingClientRect().width}),S(()=>{ge()}),{inputId:H,contentId:r,nsSelect:o,nsInput:s,states:l,isFocused:L,expanded:P,optionsArray:re,hoverOption:R,selectSize:se,filteredOptionsCount:ne,updateTooltip:ke,updateTagTooltip:Oe,debouncedOnInputChange:Ae,onInput:Ie,deletePrevTag:n=>{if(e.multiple&&n.code!==Bt.delete&&n.target.value.length<=0){const n=gn(e.modelValue).slice(),r=Fe(n);if(r<0)return;const o=n[r];n.splice(r,1),t(Qe,n),Te(n),t("remove-tag",o)}},deleteTag:(n,r)=>{const o=l.selected.indexOf(r);if(o>-1&&!N.value){const n=gn(e.modelValue).slice();n.splice(o,1),t(Qe,n),Te(n),t("remove-tag",r.value)}n.stopPropagation(),je()},deleteSelected:Me,handleOptionSelect:Le,scrollToOption:Pe,hasModelValue:W,shouldShowPlaceholder:pe,currentPlaceholder:de,mouseEnterEventName:he,needStatusIcon:U,showClose:X,iconComponent:Y,iconReverse:V,validateState:G,validateIcon:Q,showNewOption:ie,updateOptions:ae,collapseTagSize:le,setSelected:ge,selectDisabled:N,emptyText:te,handleCompositionStart:A,handleCompositionUpdate:T,handleCompositionEnd:F,onOptionCreate:e=>{l.options.set(e.value,e),l.cachedOptions.set(e.value,e)},onOptionDestroy:(e,t)=>{l.options.get(e)===t&&l.options.delete(e)},handleMenuEnter:()=>{l.isBeforeHide=!1,g(()=>{var e;null==(e=E.value)||e.update(),Pe(l.selected)})},focus:je,blur:()=>{var e;if(P.value)return P.value=!1,void g(()=>{var e;return null==(e=m.value)?void 0:e.blur()});null==(e=m.value)||e.blur()},handleClearClick:e=>{Me(e)},handleClickOutside:e=>{if(P.value=!1,L.value){const t=new FocusEvent("focus",e);g(()=>_(t))}},handleEsc:()=>{l.inputValue.length>0?l.inputValue="":P.value=!1},toggleMenu:ze,selectOption:()=>{if(P.value){const e=re.value[l.hoveringIndex];e&&!e.isDisabled&&Le(e)}else ze()},getValueKey:He,navigateOptions:qe,dropdownMenuVisible:ue,showTagList:$e,collapseTagList:Ne,popupScroll:e=>{t("popup-scroll",e)},tagStyle:We,collapseTagStyle:De,popperRef:Re,inputRef:m,tooltipRef:p,tagTooltipRef:d,prefixRef:y,suffixRef:b,selectRef:u,wrapperRef:M,selectionRef:c,scrollbarRef:E,menuRef:C,tagMenuRef:k,collapseItemRef:O}};var ro=m({name:"ElOptions",setup(e,{slots:t}){const n=Q(Jr);let r=[];return()=>{var e,o;const i=null==(e=t.default)?void 0:e.call(t),a=[];return i.length&&function e(t){D(t)&&t.forEach(t=>{var n,r,o,i;const l=null==(n=(null==t?void 0:t.type)||{})?void 0:n.name;"ElOptionGroup"===l?e(s(t.children)||D(t.children)||!v(null==(r=t.children)?void 0:r.default)?t.children:null==(o=t.children)?void 0:o.default()):"ElOption"===l?a.push(null==(i=t.props)?void 0:i.value):D(t.children)&&e(t.children)})}(null==(o=i[0])?void 0:o.children),jt(a,r)||(r=a,n&&(n.states.optionValues=a)),i}}});const oo=l({name:String,id:String,modelValue:{type:u([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:c,effect:{type:u(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:u(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:$t.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:tt,default:vt},fitInputWidth:Boolean,suffixIcon:{type:tt,default:qt},tagType:{...Yn.type,default:"info"},tagEffect:{...Yn.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:u(String),values:Nt,default:"bottom-start"},fallbackPlacements:{type:u(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:$t.appendTo,...ke,...Ze(["ariaLabel"])});Wt.scroll;const io="ElSelect";var ao=it(m({name:io,componentName:io,components:{ElSelectMenu:to,ElOption:eo,ElOptions:ro,ElTag:Gn,ElScrollbar:Xt,ElTooltip:Ut,ElIcon:ft},directives:{ClickOutside:Dt},props:oo,emits:[Qe,mt,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:t,slots:n}){p().appContext.config.warnHandler=(...e)=>{e[0]&&!e[0].includes('Slot "default" invoked outside of the render function')&&console.warn(...e)};const r=w(()=>{const{modelValue:t,multiple:n}=e,r=n?[]:void 0;return D(t)?n?t:r:n?r:t}),o=ce({...pe(e),modelValue:r}),i=no(o,t),{calculatorRef:a,inputStyle:s}=function(){const e=d(),t=h(0),n=w(()=>({minWidth:`${Math.max(t.value,11)}px`}));return ht(e,()=>{var n,r;t.value=null!=(r=null==(n=e.value)?void 0:n.getBoundingClientRect().width)?r:0}),{calculatorRef:e,calculatorWidth:t,inputStyle:n}}(),l=e=>e.reduce((e,t)=>(e.push(t),t.children&&t.children.length>0&&e.push(...l(t.children)),e),[]);f(()=>{var e;return null==(e=n.default)?void 0:e.call(n)},t=>{e.persistent||Xn(t||[]).forEach(e=>{var t;if(q(e)&&("ElOption"===e.type.name||"ElTree"===e.type.name)){const n=e.type.name;if("ElTree"===n){const n=(null==(t=e.props)?void 0:t.data)||[];l(n).forEach(e=>{e.currentLabel=e.label||(q(e.value)?"":e.value),i.onOptionCreate(e)})}else if("ElOption"===n){const t={...e.props};t.currentLabel=t.label||(q(t.value)?"":t.value),i.onOptionCreate(t)}}})},{immediate:!0}),ue(Jr,ce({props:o,states:i.states,selectRef:i.selectRef,optionsArray:i.optionsArray,setSelected:i.setSelected,handleOptionSelect:i.handleOptionSelect,onOptionCreate:i.onOptionCreate,onOptionDestroy:i.onOptionDestroy}));const u=w(()=>e.multiple?i.states.selected.map(e=>e.currentLabel):i.states.selectedLabel);return{...i,modelValue:r,selectedLabel:u,calculatorRef:a,inputStyle:s}}}),[["render",function(e,t){const n=Oe("el-tag"),r=Oe("el-tooltip"),o=Oe("el-icon"),i=Oe("el-option"),a=Oe("el-options"),s=Oe("el-scrollbar"),l=Oe("el-select-menu"),u=Ee("click-outside");return ae((E(),O("div",{ref:"selectRef",class:F([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[Fe(e.mouseEnterEventName)]:t=>e.states.inputHovering=!0,onMouseleave:t=>e.states.inputHovering=!1},[z(r,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t=>e.states.isBeforeHide=!1},{default:P(()=>{var t;return[T("div",{ref:"wrapperRef",class:F([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:H(e.toggleMenu,["prevent"])},[e.$slots.prefix?(E(),O("div",{key:0,ref:"prefixRef",class:F(e.nsSelect.e("prefix"))},[L(e.$slots,"prefix")],2)):I("v-if",!0),T("div",{ref:"selectionRef",class:F([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?L(e.$slots,"tag",{key:0},()=>[(E(!0),O(A,null,Ie(e.showTagList,t=>(E(),O("div",{key:e.getValueKey(t),class:F(e.nsSelect.e("selected-item"))},[z(n,{closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:N(e.tagStyle),onClose:n=>e.deleteTag(n,t)},{default:P(()=>[T("span",{class:F(e.nsSelect.e("tags-text"))},[L(e.$slots,"label",{label:t.currentLabel,value:t.value},()=>[ve($(t.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(E(),_(r,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:P(()=>[T("div",{ref:"collapseItemRef",class:F(e.nsSelect.e("selected-item"))},[z(n,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:N(e.collapseTagStyle)},{default:P(()=>[T("span",{class:F(e.nsSelect.e("tags-text"))}," + "+$(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:P(()=>[T("div",{ref:"tagMenuRef",class:F(e.nsSelect.e("selection"))},[(E(!0),O(A,null,Ie(e.collapseTagList,t=>(E(),O("div",{key:e.getValueKey(t),class:F(e.nsSelect.e("selected-item"))},[z(n,{class:"in-tooltip",closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:n=>e.deleteTag(n,t)},{default:P(()=>[T("span",{class:F(e.nsSelect.e("tags-text"))},[L(e.$slots,"label",{label:t.currentLabel,value:t.value},()=>[ve($(t.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):I("v-if",!0)]):I("v-if",!0),T("div",{class:F([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[ae(T("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":t=>e.states.inputValue=t,type:"text",name:e.name,class:F([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:N(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":(null==(t=e.hoverOption)?void 0:t.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Ae(H(t=>e.navigateOptions("next"),["stop","prevent"]),["down"]),Ae(H(t=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),Ae(H(e.handleEsc,["stop","prevent"]),["esc"]),Ae(H(e.selectOption,["stop","prevent"]),["enter"]),Ae(H(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:H(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[Te,e.states.inputValue]]),e.filterable?(E(),O("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:F(e.nsSelect.e("input-calculator")),textContent:$(e.states.inputValue)},null,10,["textContent"])):I("v-if",!0)],2),e.shouldShowPlaceholder?(E(),O("div",{key:1,class:F([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?L(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[T("span",null,$(e.currentPlaceholder),1)]):(E(),O("span",{key:1},$(e.currentPlaceholder),1))],2)):I("v-if",!0)],2),T("div",{ref:"suffixRef",class:F(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(E(),_(o,{key:0,class:F([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:P(()=>[(E(),_(R(e.iconComponent)))]),_:1},8,["class"])):I("v-if",!0),e.showClose&&e.clearIcon?(E(),_(o,{key:1,class:F([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:P(()=>[(E(),_(R(e.clearIcon)))]),_:1},8,["class","onClick"])):I("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(E(),_(o,{key:2,class:F([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading","validating"===e.validateState)])},{default:P(()=>[(E(),_(R(e.validateIcon)))]),_:1},8,["class"])):I("v-if",!0)],2)],10,["onClick"])]}),content:P(()=>[z(l,{ref:"menuRef"},{default:P(()=>[e.$slots.header?(E(),O("div",{key:0,class:F(e.nsSelect.be("dropdown","header")),onClick:H(()=>{},["stop"])},[L(e.$slots,"header")],10,["onClick"])):I("v-if",!0),ae(z(s,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:F([e.nsSelect.is("empty",0===e.filteredOptionsCount)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:P(()=>[e.showNewOption?(E(),_(i,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):I("v-if",!0),z(a,null,{default:P(()=>[L(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[le,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(E(),O("div",{key:1,class:F(e.nsSelect.be("dropdown","loading"))},[L(e.$slots,"loading")],2)):e.loading||0===e.filteredOptionsCount?(E(),O("div",{key:2,class:F(e.nsSelect.be("dropdown","empty"))},[L(e.$slots,"empty",{},()=>[T("span",null,$(e.emptyText),1)])],2)):I("v-if",!0),e.$slots.footer?(E(),O("div",{key:3,class:F(e.nsSelect.be("dropdown","footer")),onClick:H(()=>{},["stop"])},[L(e.$slots,"footer")],10,["onClick"])):I("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[u,e.handleClickOutside,e.popperRef]])}],["__file","select.vue"]]);var so=it(m({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=x("select"),n=h(),r=p(),o=h([]);ue(Gr,ce({...pe(e)}));const i=w(()=>o.value.some(e=>!0===e.visible)),a=e=>{const t=gn(e),n=[];return t.forEach(e=>{var t;U(e)&&((e=>{var t;return"ElOption"===e.type.name&&!!(null==(t=e.component)?void 0:t.proxy)})(e)?n.push(e.component.proxy):D(e.children)&&e.children.length?n.push(...a(e.children)):(null==(t=e.component)?void 0:t.subTree)&&n.push(...a(e.component.subTree)))}),n},s=()=>{o.value=a(r.subTree)};return S(()=>{s()}),Yt(n,s,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:i,ns:t}}}),[["render",function(e,t,n,r,o,i){return ae((E(),O("ul",{ref:"groupRef",class:F(e.ns.be("group","wrap"))},[T("li",{class:F(e.ns.be("group","title"))},$(e.label),3),T("li",null,[T("ul",{class:F(e.ns.b("group"))},[L(e.$slots,"default")],2)])],2)),[[le,e.visible]])}],["__file","option-group.vue"]]);const lo=W(ao,{Option:eo,OptionGroup:so}),uo=me(eo);me(so);const co=l({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:u(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:u([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:u(Function),default:e=>`${e}%`}}),po=m({name:"ElProgress"});const ho=W(it(m({...po,props:co,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=x("progress"),o=w(()=>{const e={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},n=b(t.percentage);return n.includes("gradient")?e.background=n:e.backgroundColor=n,e}),i=w(()=>(t.strokeWidth/t.width*100).toFixed(1)),a=w(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(""+(50-Number.parseFloat(i.value)/2),10):0),l=w(()=>{const e=a.value,n="dashboard"===t.type;return`\n          M 50 50\n          m 0 ${n?"":"-"}${e}\n          a ${e} ${e} 0 1 1 0 ${n?"-":""}${2*e}\n          a ${e} ${e} 0 1 1 0 ${n?"":"-"}${2*e}\n          `}),u=w(()=>2*Math.PI*a.value),c=w(()=>"dashboard"===t.type?.75:1),p=w(()=>`${-1*u.value*(1-c.value)/2}px`),d=w(()=>({strokeDasharray:`${u.value*c.value}px, ${u.value}px`,strokeDashoffset:p.value})),h=w(()=>({strokeDasharray:`${u.value*c.value*(t.percentage/100)}px, ${u.value}px`,strokeDashoffset:p.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),f=w(()=>{let e;return e=t.color?b(t.percentage):n[t.status]||n.default,e}),g=w(()=>"warning"===t.status?Vt:"line"===t.type?"success"===t.status?Kt:vt:"success"===t.status?Gt:bt),m=w(()=>"line"===t.type?12+.4*t.strokeWidth:.111111*t.width+2),y=w(()=>t.format(t.percentage));const b=e=>{var n;const{color:r}=t;if(v(r))return r(e);if(s(r))return r;{const t=function(e){const t=100/e.length;return e.map((e,n)=>s(e)?{color:e,percentage:(n+1)*t}:e).sort((e,t)=>e.percentage-t.percentage)}(r);for(const n of t)if(n.percentage>e)return n.color;return null==(n=t[t.length-1])?void 0:n.color}};return(e,t)=>(E(),O("div",{class:F([M(r).b(),M(r).m(e.type),M(r).is(e.status),{[M(r).m("without-text")]:!e.showText,[M(r).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===e.type?(E(),O("div",{key:0,class:F(M(r).b("bar"))},[T("div",{class:F(M(r).be("bar","outer")),style:N({height:`${e.strokeWidth}px`})},[T("div",{class:F([M(r).be("bar","inner"),{[M(r).bem("bar","inner","indeterminate")]:e.indeterminate},{[M(r).bem("bar","inner","striped")]:e.striped},{[M(r).bem("bar","inner","striped-flow")]:e.stripedFlow}]),style:N(M(o))},[(e.showText||e.$slots.default)&&e.textInside?(E(),O("div",{key:0,class:F(M(r).be("bar","innerText"))},[L(e.$slots,"default",{percentage:e.percentage},()=>[T("span",null,$(M(y)),1)])],2)):I("v-if",!0)],6)],6)],2)):(E(),O("div",{key:1,class:F(M(r).b("circle")),style:N({height:`${e.width}px`,width:`${e.width}px`})},[(E(),O("svg",{viewBox:"0 0 100 100"},[T("path",{class:F(M(r).be("circle","track")),d:M(l),stroke:`var(${M(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":e.strokeLinecap,"stroke-width":M(i),fill:"none",style:N(M(d))},null,14,["d","stroke","stroke-linecap","stroke-width"]),T("path",{class:F(M(r).be("circle","path")),d:M(l),stroke:M(f),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":M(i),style:N(M(h))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),!e.showText&&!e.$slots.default||e.textInside?I("v-if",!0):(E(),O("div",{key:2,class:F(M(r).e("text")),style:N({fontSize:`${M(m)}px`})},[L(e.$slots,"default",{percentage:e.percentage},()=>[e.status?(E(),_(M(ft),{key:1},{default:P(()=>[(E(),_(R(M(g))))]),_:1})):(E(),O("span",{key:0},$(M(y)),1))])],6))],10,["aria-valuenow"]))}}),[["__file","progress.vue"]])),fo=Symbol("uploadContextKey");class vo extends Error{constructor(e,t,n,r){super(e),this.name="UploadAjaxError",this.status=t,this.method=n,this.url=r}}function go(e,t,n){let r;return r=n.response?`${n.response.error||n.response}`:n.responseText?`${n.responseText}`:`fail to ${t.method} ${e} ${n.status}`,new vo(r,n.status,t.method,e)}const mo=["text","picture","picture-card"];let yo=1;const bo=()=>Date.now()+yo++,wo=l({action:{type:String,default:"#"},headers:{type:u(Object)},method:{type:String,default:"post"},data:{type:u([Object,Function,Promise]),default:()=>et({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:u(Array),default:()=>et([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:mo,default:"text"},httpRequest:{type:u(Function),default:e=>{"undefined"==typeof XMLHttpRequest&&kt("ElUpload","XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",t=>{const n=t;n.percent=t.total>0?t.loaded/t.total*100:0,e.onProgress(n)});const r=new FormData;if(e.data)for(const[i,a]of Object.entries(e.data))D(a)&&a.length?r.append(i,...a):r.append(i,a);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(go(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(go(n,e,t));e.onSuccess(function(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}}(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const o=e.headers||{};if(o instanceof Headers)o.forEach((e,n)=>t.setRequestHeader(n,e));else for(const[i,a]of Object.entries(o))C(a)||t.setRequestHeader(i,String(a));return t.send(r),t}},disabled:Boolean,limit:Number}),xo=l({...wo,beforeUpload:{type:u(Function),default:B},beforeRemove:{type:u(Function)},onRemove:{type:u(Function),default:B},onChange:{type:u(Function),default:B},onPreview:{type:u(Function),default:B},onSuccess:{type:u(Function),default:B},onProgress:{type:u(Function),default:B},onError:{type:u(Function),default:B},onExceed:{type:u(Function),default:B},crossorigin:{type:u(String)}}),Co=l({files:{type:u(Array),default:()=>et([])},disabled:{type:Boolean,default:!1},handlePreview:{type:u(Function),default:B},listType:{type:String,values:mo,default:"text"},crossorigin:{type:u(String)}}),So=m({name:"ElUploadList"});var ko=it(m({...So,props:Co,emits:{remove:e=>!!e},setup(e,{emit:t}){const n=e,{t:r}=J(),o=x("upload"),i=x("icon"),a=x("list"),s=nt(),l=h(!1),u=w(()=>[o.b("list"),o.bm("list",n.listType),o.is("disabled",n.disabled)]),c=e=>{t("remove",e)};return(e,t)=>(E(),_(ge,{tag:"ul",class:F(M(u)),name:M(a).b()},{default:P(()=>[(E(!0),O(A,null,Ie(e.files,(t,n)=>(E(),O("li",{key:t.uid||t.name,class:F([M(o).be("list","item"),M(o).is(t.status),{focusing:l.value}]),tabindex:"0",onKeydown:Ae(e=>!M(s)&&c(t),["delete"]),onFocus:e=>l.value=!0,onBlur:e=>l.value=!1,onClick:e=>l.value=!1},[L(e.$slots,"default",{file:t,index:n},()=>["picture"===e.listType||"uploading"!==t.status&&"picture-card"===e.listType?(E(),O("img",{key:0,class:F(M(o).be("list","item-thumbnail")),src:t.url,crossorigin:e.crossorigin,alt:""},null,10,["src","crossorigin"])):I("v-if",!0),"uploading"===t.status||"picture-card"!==e.listType?(E(),O("div",{key:1,class:F(M(o).be("list","item-info"))},[T("a",{class:F(M(o).be("list","item-name")),onClick:H(n=>e.handlePreview(t),["prevent"])},[z(M(ft),{class:F(M(i).m("document"))},{default:P(()=>[z(M(Jt))]),_:1},8,["class"]),T("span",{class:F(M(o).be("list","item-file-name")),title:t.name},$(t.name),11,["title"])],10,["onClick"]),"uploading"===t.status?(E(),_(M(ho),{key:0,type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:Number(t.percentage),style:N("picture-card"===e.listType?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):I("v-if",!0)],2)):I("v-if",!0),T("label",{class:F(M(o).be("list","item-status-label"))},["text"===e.listType?(E(),_(M(ft),{key:0,class:F([M(i).m("upload-success"),M(i).m("circle-check")])},{default:P(()=>[z(M(Kt))]),_:1},8,["class"])):["picture-card","picture"].includes(e.listType)?(E(),_(M(ft),{key:1,class:F([M(i).m("upload-success"),M(i).m("check")])},{default:P(()=>[z(M(Gt))]),_:1},8,["class"])):I("v-if",!0)],2),M(s)?I("v-if",!0):(E(),_(M(ft),{key:2,class:F(M(i).m("close")),onClick:e=>c(t)},{default:P(()=>[z(M(bt))]),_:2},1032,["class","onClick"])),I(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),I(" This is a bug which needs to be fixed "),I(" TODO: Fix the incorrect navigation interaction "),M(s)?I("v-if",!0):(E(),O("i",{key:3,class:F(M(i).m("close-tip"))},$(M(r)("el.upload.deleteTip")),3)),"picture-card"===e.listType?(E(),O("span",{key:4,class:F(M(o).be("list","item-actions"))},[T("span",{class:F(M(o).be("list","item-preview")),onClick:n=>e.handlePreview(t)},[z(M(ft),{class:F(M(i).m("zoom-in"))},{default:P(()=>[z(M(Qt))]),_:1},8,["class"])],10,["onClick"]),M(s)?I("v-if",!0):(E(),O("span",{key:0,class:F(M(o).be("list","item-delete")),onClick:e=>c(t)},[z(M(ft),{class:F(M(i).m("delete"))},{default:P(()=>[z(M(Zt))]),_:1},8,["class"])],10,["onClick"]))],2)):I("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),L(e.$slots,"append")]),_:3},8,["class","name"]))}}),[["__file","upload-list.vue"]]);const Oo=l({disabled:{type:Boolean,default:!1}}),Eo={file:e=>D(e)},Io="ElUploadDrag",Ao=m({name:Io});var To=it(m({...Ao,props:Oo,emits:Eo,setup(e,{emit:t}){Q(fo)||kt(Io,"usage: <el-upload><el-upload-dragger /></el-upload>");const n=x("upload"),r=h(!1),o=nt(),i=e=>{if(o.value)return;r.value=!1,e.stopPropagation();const n=Array.from(e.dataTransfer.files),i=e.dataTransfer.items||[];n.forEach((e,t)=>{var n;const r=i[t],o=null==(n=null==r?void 0:r.webkitGetAsEntry)?void 0:n.call(r);o&&(e.isDirectory=o.isDirectory)}),t("file",n)},a=()=>{o.value||(r.value=!0)};return(e,t)=>(E(),O("div",{class:F([M(n).b("dragger"),M(n).is("dragover",r.value)]),onDrop:H(i,["prevent"]),onDragover:H(a,["prevent"]),onDragleave:H(e=>r.value=!1,["prevent"])},[L(e.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}}),[["__file","upload-dragger.vue"]]);const Fo=l({...wo,beforeUpload:{type:u(Function),default:B},onRemove:{type:u(Function),default:B},onStart:{type:u(Function),default:B},onSuccess:{type:u(Function),default:B},onProgress:{type:u(Function),default:B},onError:{type:u(Function),default:B},onExceed:{type:u(Function),default:B}}),Mo=m({name:"ElUploadContent",inheritAttrs:!1});var Lo=it(m({...Mo,props:Fo,setup(e,{expose:t}){const n=e,r=x("upload"),o=nt(),i=d({}),a=d(),s=e=>{if(0===e.length)return;const{autoUpload:t,limit:r,fileList:o,multiple:i,onStart:a,onExceed:s}=n;if(r&&o.length+e.length>r)s(e,o);else{i||(e=e.slice(0,1));for(const n of e){const e=n;e.uid=bo(),a(e),t&&l(e)}}},l=async e=>{if(a.value.value="",!n.beforeUpload)return u(e);let t,r={};try{const o=n.data,i=n.beforeUpload(e);r=Se(n.data)?Pn(n.data):n.data,t=await i,Se(n.data)&&jt(o,r)&&(r=Pn(n.data))}catch(i){t=!1}if(!1===t)return void n.onRemove(e);let o=e;t instanceof Blob&&(o=t instanceof File?t:new File([t],e.name,{type:e.type})),u(Object.assign(o,{uid:e.uid}),r)},u=async(e,t)=>{const{headers:r,data:o,method:a,withCredentials:s,name:l,action:u,onProgress:c,onSuccess:p,onError:d,httpRequest:h}=n;try{t=await(async(e,t)=>v(e)?e(t):e)(null!=t?t:o,e)}catch(y){return void n.onRemove(e)}const{uid:f}=e,g={headers:r||{},withCredentials:s,file:e,data:t,method:a,filename:l,action:u,onProgress:t=>{c(t,e)},onSuccess:t=>{p(t,e),delete i.value[f]},onError:t=>{d(t,e),delete i.value[f]}},m=h(g);i.value[f]=m,m instanceof Promise&&m.then(g.onSuccess,g.onError)},c=e=>{const t=e.target.files;t&&s(Array.from(t))},p=()=>{o.value||(a.value.value="",a.value.click())},h=()=>{p()};return t({abort:e=>{Me(i.value).filter(e?([t])=>String(e.uid)===t:()=>!0).forEach(([e,t])=>{t instanceof XMLHttpRequest&&t.abort(),delete i.value[e]})},upload:l}),(e,t)=>(E(),O("div",{class:F([M(r).b(),M(r).m(e.listType),M(r).is("drag",e.drag),M(r).is("disabled",M(o))]),tabindex:M(o)?"-1":"0",onClick:p,onKeydown:Ae(H(h,["self"]),["enter","space"])},[e.drag?(E(),_(To,{key:0,disabled:M(o),onFile:s},{default:P(()=>[L(e.$slots,"default")]),_:3},8,["disabled"])):L(e.$slots,"default",{key:1}),T("input",{ref_key:"inputRef",ref:a,class:F(M(r).e("input")),name:e.name,disabled:M(o),multiple:e.multiple,accept:e.accept,type:"file",onChange:c,onClick:H(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}}),[["__file","upload-content.vue"]]);const _o="ElUpload",Po=e=>{var t;(null==(t=e.url)?void 0:t.startsWith("blob:"))&&URL.revokeObjectURL(e.url)},Ro=m({name:"ElUpload"});const jo=W(it(m({...Ro,props:xo,setup(e,{expose:t}){const n=e,r=nt(),o=d(),{abort:i,submit:a,clearFiles:s,uploadFiles:l,handleStart:u,handleError:c,handleRemove:p,handleSuccess:h,handleProgress:v,revokeFileObjectURL:g}=((e,t)=>{const n=en(e,"fileList",void 0,{passive:!0}),r=e=>n.value.find(t=>t.uid===e.uid);function o(e){var n;null==(n=t.value)||n.abort(e)}function i(e){n.value=n.value.filter(t=>t.uid!==e.uid)}return f(()=>e.listType,t=>{"picture-card"!==t&&"picture"!==t||(n.value=n.value.map(t=>{const{raw:r,url:o}=t;if(!o&&r)try{t.url=URL.createObjectURL(r)}catch(i){e.onError(i,t,n.value)}return t}))}),f(n,e=>{for(const t of e)t.uid||(t.uid=bo()),t.status||(t.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:o,clearFiles:function(e=["ready","uploading","success","fail"]){n.value=n.value.filter(t=>!e.includes(t.status))},handleError:(t,o)=>{const a=r(o);a&&(console.error(t),a.status="fail",i(a),e.onError(t,a,n.value),e.onChange(a,n.value))},handleProgress:(t,o)=>{const i=r(o);i&&(e.onProgress(t,i,n.value),i.status="uploading",i.percentage=Math.round(t.percent))},handleStart:t=>{C(t.uid)&&(t.uid=bo());const r={name:t.name,percentage:0,status:"ready",size:t.size,raw:t,uid:t.uid};if("picture-card"===e.listType||"picture"===e.listType)try{r.url=URL.createObjectURL(t)}catch(o){yt(_o,o.message),e.onError(o,r,n.value)}n.value=[...n.value,r],e.onChange(r,n.value)},handleSuccess:(t,o)=>{const i=r(o);i&&(i.status="success",i.response=t,e.onSuccess(t,i,n.value),e.onChange(i,n.value))},handleRemove:async t=>{const a=t instanceof File?r(t):t;a||kt(_o,"file to be removed not found");const s=t=>{o(t),i(t),e.onRemove(t,n.value),Po(t)};e.beforeRemove?!1!==await e.beforeRemove(a,n.value)&&s(a):s(a)},submit:function(){n.value.filter(({status:e})=>"ready"===e).forEach(({raw:e})=>{var n;return e&&(null==(n=t.value)?void 0:n.upload(e))})},revokeFileObjectURL:Po}})(n,o),m=w(()=>"picture-card"===n.listType),y=w(()=>({...n,fileList:l.value,onStart:u,onProgress:v,onSuccess:h,onError:c,onRemove:p}));return G(()=>{l.value.forEach(g)}),ue(fo,{accept:k(n,"accept")}),t({abort:i,submit:a,clearFiles:s,handleStart:u,handleRemove:p}),(e,t)=>(E(),O("div",null,[M(m)&&e.showFileList?(E(),_(ko,{key:0,disabled:M(r),"list-type":e.listType,files:M(l),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:M(p)},se({append:P(()=>[z(Lo,j({ref_key:"uploadRef",ref:o},M(y)),{default:P(()=>[e.$slots.trigger?L(e.$slots,"trigger",{key:0}):I("v-if",!0),!e.$slots.trigger&&e.$slots.default?L(e.$slots,"default",{key:1}):I("v-if",!0)]),_:3},16)]),_:2},[e.$slots.file?{name:"default",fn:P(({file:t,index:n})=>[L(e.$slots,"file",{file:t,index:n})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):I("v-if",!0),!M(m)||M(m)&&!e.showFileList?(E(),_(Lo,j({key:1,ref_key:"uploadRef",ref:o},M(y)),{default:P(()=>[e.$slots.trigger?L(e.$slots,"trigger",{key:0}):I("v-if",!0),!e.$slots.trigger&&e.$slots.default?L(e.$slots,"default",{key:1}):I("v-if",!0)]),_:3},16)):I("v-if",!0),e.$slots.trigger?L(e.$slots,"default",{key:2}):I("v-if",!0),L(e.$slots,"tip"),!M(m)&&e.showFileList?(E(),_(ko,{key:3,disabled:M(r),"list-type":e.listType,files:M(l),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:M(p)},se({_:2},[e.$slots.file?{name:"default",fn:P(({file:t,index:n})=>[L(e.$slots,"file",{file:t,index:n})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):I("v-if",!0)]))}}),[["__file","upload.vue"]]));var zo=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Ho(e){var t=e.r,n=e.g,r=e.b,o=nn(t,n,r);return{h:360*o.h,s:o.s,v:o.v}}function Bo(e){var t=e.r,n=e.g,r=e.b;return"#".concat(rn(t,n,r,!1))}function $o(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function No(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function qo(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function Wo(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=tn(e),o=5;o>0;o-=1){var i=Ho(r),a=Bo(tn({h:$o(i,o,!0),s:No(i,o,!0),v:qo(i,o,!0)}));n.push(a)}n.push(Bo(r));for(var s=1;s<=4;s+=1){var l=Ho(r),u=Bo(tn({h:$o(l,s),s:No(l,s),v:qo(l,s)}));n.push(u)}return"dark"===t.theme?zo.map(function(e){var r,o,i,a=e.index,s=e.opacity;return Bo((r=tn(t.backgroundColor||"#141414"),o=tn(n[a]),i=100*s/100,{r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b}))}):n}var Do={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Uo={},Xo={};Object.keys(Do).forEach(function(e){Uo[e]=Wo(Do[e]),Uo[e].primary=Uo[e][5],Xo[e]=Wo(Do[e],{theme:"dark",backgroundColor:"#141414"}),Xo[e].primary=Xo[e][5]});var Yo=Symbol("iconContext"),Vo=function(){return Q(Yo,{prefixCls:h("anticon"),rootClassName:h(""),csp:h()})};function Ko(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var Go="data-vc-order",Jo=new Map;function Qo(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"vc-icon-key"}function Zo(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function ei(e){return Array.from((Jo.get(e)||e).children).filter(function(e){return"STYLE"===e.tagName})}function ti(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ko())return null;var n=t.csp,r=t.prepend,o=document.createElement("style");o.setAttribute(Go,function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r)),n&&n.nonce&&(o.nonce=n.nonce),o.innerHTML=e;var i=Zo(t),a=i.firstChild;if(r){if("queue"===r){var s=ei(i).filter(function(e){return["prepend","prependQueue"].includes(e.getAttribute(Go))});if(s.length)return i.insertBefore(o,s[s.length-1].nextSibling),o}i.insertBefore(o,a)}else i.appendChild(o);return o}function ni(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){var n,r,o=Jo.get(e);if(!(o&&(n=document,r=o,n&&n.contains&&n.contains(r)))){var i=ti("",t),a=i.parentNode;Jo.set(e,a),e.removeChild(i)}}(Zo(n),n);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ei(Zo(t)).find(function(n){return n.getAttribute(Qo(t))===e})}(t,n);if(r)return n.csp&&n.csp.nonce&&r.nonce!==n.csp.nonce&&(r.nonce=n.csp.nonce),r.innerHTML!==e&&(r.innerHTML=e),r;var o=ti(e,n);return o.setAttribute(Qo(n),t),o}var ri={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};function oi(e){return e&&e.getRootNode&&e.getRootNode()}function ii(e){return function(e){return!!Ko()&&oi(e)instanceof ShadowRoot}(e)?oi(e):null}var ai=m({name:"InsertStyles",setup:function(){var e,t,n,r,o;return e=Vo(),t=e.prefixCls,n=e.csp,r=p(),o="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",t&&(o=o.replace(/anticon/g,t.value)),g(function(){if(Ko()){var e=ii(r.vnode.el);ni(o,"@ant-design-vue-icons",{prepend:!0,csp:n.value,attachTo:e})}}),function(){return null}}}),si=["class","component","viewBox","spin","rotate","tabindex","onClick"];function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ui(e,t,n[t])})}return e}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ci(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var pi=function(e,t){var n,r=t.attrs,o=t.slots,i=li({},e,r),a=i.class,s=i.component,l=i.viewBox,u=i.spin,c=i.rotate,p=i.tabindex,d=i.onClick,h=ci(i,si),f=Vo(),v=f.prefixCls,g=f.rootClassName,m=o.default&&o.default(),y=m&&m.length,b=o.component,w=(ui(n={},g.value,!!g.value),ui(n,v.value,!0),n),x=ui({},"".concat(v.value,"-spin"),""===u||!!u),C=c?{msTransform:"rotate(".concat(c,"deg)"),transform:"rotate(".concat(c,"deg)")}:void 0,S=li({},ri,{viewBox:l,class:x,style:C});l||delete S.viewBox;var k=p;return void 0===k&&d&&(k=-1,h.tabindex=k),z("span",li({role:"img"},h,{onClick:d,class:[w,a]}),[s?z(s,S,{default:function(){return[m]}}):b?b(S):y?(Boolean(l)||1===m.length&&m[0]&&m[0].type,z("svg",li({},S,{viewBox:l}),[m])):null,z(ai,null,null)])};pi.props={spin:Boolean,rotate:Number,viewBox:String,ariaLabel:String},pi.inheritAttrs=!1,pi.displayName="Icon";var di=["type"];function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fi(e,t,n[t])})}return e}function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var gi=new Set;function mi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e[n];if("string"==typeof(t=r)&&t.length&&!gi.has(t)){var o=document.createElement("script");o.setAttribute("src",r),o.setAttribute("data-namespace",r),e.length>n+1&&(o.onload=function(){mi(e,n+1)},o.onerror=function(){mi(e,n+1)}),gi.add(r),document.body.appendChild(o)}}function yi(){const e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scriptUrl,n=e.extraCommonProps,r=void 0===n?{}:n;"undefined"!=typeof document&&"undefined"!=typeof window&&"function"==typeof document.createElement&&(Array.isArray(t)?mi(t.reverse()):mi([t]));var o=function(e,t){var n=t.attrs,o=t.slots,i=hi({},e,n),a=i.type,s=vi(i,di),l=o.default&&o.default(),u=null;a&&(u=z("use",{"xlink:href":"#".concat(a)},null)),l&&l.length&&(u=l);var c=hi({},r,s);return z(pi,c,{default:function(){return[u]}})};return o.props={spin:Boolean,rotate:Number,type:String},o.inheritAttrs=!1,o.displayName="Iconfont",o}({scriptUrl:"//at.alicdn.com/t/c/font_2697113_omj2bd8d1k.js"});return{MyIcon:e}}const bi={};bi.getData=e=>new Promise((t,n)=>{let r={};(function(e){let t=null;return new Promise((n,r)=>{if(e.src)if(/^data\:/i.test(e.src))t=function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length%2==0?n.length:n.length+1,o=new ArrayBuffer(r),i=new Uint16Array(o),a=0;a<r;a++)i[a]=n.charCodeAt(a);return o}(e.src),n(t);else if(/^blob\:/i.test(e.src)){var o=new FileReader;o.onload=function(e){t=e.target.result,n(t)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){(200==this.status||0===this.status)&&t(this.response)},n.send()}(e.src,function(e){o.readAsArrayBuffer(e)})}else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";t=i.response,n(t),i=null},i.open("GET",e.src,!0),i.responseType="arraybuffer",i.send(null)}else r("img error")})})(e).then(e=>{r.arrayBuffer=e;try{r.orientation=function(e){var t,n,r,o,i,a,s,l,u,c,p=new DataView(e),d=p.byteLength;if(255===p.getUint8(0)&&216===p.getUint8(1))for(u=2;u<d;){if(255===p.getUint8(u)&&225===p.getUint8(u+1)){s=u;break}u++}if(s&&(n=s+4,r=s+10,"Exif"===function(e,t,n){var r,o="";for(r=t,n+=t;r<n;r++)o+=String.fromCharCode(e.getUint8(r));return o}(p,n,4)&&(a=p.getUint16(r),((i=18761===a)||19789===a)&&42===p.getUint16(r+2,i)&&(o=p.getUint32(r+4,i),o>=8&&(l=r+o)))),l)for(d=p.getUint16(l,i),c=0;c<d;c++)if(u=l+12*c+2,274===p.getUint16(u,i)){u+=8,t=p.getUint16(u,i);break}return t}(e)}catch{r.orientation=-1}t(r)}).catch(e=>{n(e)})});const wi=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},xi=m({data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0,imgIsQqualCrop:!1}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:()=>[1,1]},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:[Number,String],default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:()=>10,validator:function(e){return Array.isArray(e)?Number(e[0])>=0&&Number(e[1])>=0:Number(e)>=0}},fillColor:{type:String,default:""}},computed:{cropInfo(){let e={};if(e.top=this.cropOffsertY>21?"-21px":"0px",e.width=this.cropW>0?this.cropW:0,e.height=this.cropH>0?this.cropH:0,this.infoTrue){let t=1;this.high&&!this.full&&(t=window.devicePixelRatio),1!==this.enlarge&!this.full&&(t=Math.abs(Number(this.enlarge))),e.width=e.width*t,e.height=e.height*t,this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=e.width.toFixed(0),e.height=e.height.toFixed(0),e},isIE:()=>!!window.ActiveXObject||"ActiveXObject"in window,passive(){return this.isIE?null:{passive:!1}},isRotateRightOrLeft(){return[1,-1,3,-3].includes(this.rotate)}},watch:{img(){this.checkedImg()},imgs(e){""!==e&&this.reload()},cropW(){this.showPreview()},cropH(){this.showPreview()},cropOffsertX(){this.showPreview()},cropOffsertY(){this.showPreview()},scale(e,t){this.showPreview()},x(){this.showPreview()},y(){this.showPreview()},autoCrop(e){e&&this.goAutoCrop()},autoCropWidth(){this.autoCrop&&this.goAutoCrop()},autoCropHeight(){this.autoCrop&&this.goAutoCrop()},mode(){this.checkedImg()},rotate(){this.showPreview(),(this.autoCrop||this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{getVersion(e){var t=navigator.userAgent.split(" "),n="";let r=0;const o=new RegExp(e,"i");for(var i=0;i<t.length;i++)o.test(t[i])&&(n=t[i]);return r=n?n.split("/")[1].split("."):["0","0","0"],r},checkOrientationImage(e,t,n,r){if(this.getVersion("chrome")[0]>=81)t=-1;else if(this.getVersion("safari")[0]>=605){const e=this.getVersion("version");e[0]>13&&e[1]>1&&(t=-1)}else{const e=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);if(e){let n=e[1];n=n.split("_"),(n[0]>13||n[0]>=13&&n[1]>=4)&&(t=-1)}}let o=document.createElement("canvas"),i=o.getContext("2d");switch(i.save(),t){case 2:o.width=n,o.height=r,i.translate(n,0),i.scale(-1,1);break;case 3:o.width=n,o.height=r,i.translate(n/2,r/2),i.rotate(180*Math.PI/180),i.translate(-n/2,-r/2);break;case 4:o.width=n,o.height=r,i.translate(0,r),i.scale(1,-1);break;case 5:o.height=n,o.width=r,i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:o.width=r,o.height=n,i.translate(r/2,n/2),i.rotate(90*Math.PI/180),i.translate(-n/2,-r/2);break;case 7:o.height=n,o.width=r,i.rotate(.5*Math.PI),i.translate(n,-r),i.scale(-1,1);break;case 8:o.height=n,o.width=r,i.translate(r/2,n/2),i.rotate(-90*Math.PI/180),i.translate(-n/2,-r/2);break;default:o.width=n,o.height=r}i.drawImage(e,0,0,n,r),i.restore(),o.toBlob(e=>{let t=URL.createObjectURL(e);URL.revokeObjectURL(this.imgs),this.imgs=t},"image/"+this.outputType,1)},checkedImg(){if(null===this.img||""===this.img)return this.imgs="",void this.clearCrop();this.loading=!0,this.scale=1,this.rotate=0,this.imgIsQqualCrop=!1,this.clearCrop();let e=new Image;if(e.onload=()=>{if(""===this.img)return this.$emit("img-load",new Error("图片不能为空")),!1;let t=e.width,n=e.height;bi.getData(e).then(r=>{this.orientation=r.orientation||1;let o=Number(this.maxImgSize);!this.orientation&&t<o&n<o?this.imgs=this.img:(t>o&&(n=n/t*o,t=o),n>o&&(t=t/n*o,n=o),this.checkOrientationImage(e,this.orientation,t,n))}).catch(e=>{this.$emit("img-load","error"),this.$emit("img-load-error",e)})},e.onerror=e=>{this.$emit("img-load","error"),this.$emit("img-load-error",e)},"data"!==this.img.substr(0,4)&&(e.crossOrigin=""),this.isIE){var t=new XMLHttpRequest;t.onload=function(){var t=URL.createObjectURL(this.response);e.src=t},t.open("GET",this.img,!0),t.responseType="blob",t.send()}else e.src=this.img},startMove(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=("clientX"in e?e.clientX:e.touches[0].clientX)-this.x,this.moveY=("clientY"in e?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==e.touches.length&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale(e){e.preventDefault();let t=this.scale;var n=this.touches[0].clientX,r=this.touches[0].clientY,o=e.touches[0].clientX,i=e.touches[0].clientY,a=this.touches[1].clientX,s=this.touches[1].clientY,l=e.touches[1].clientX,u=e.touches[1].clientY,c=Math.sqrt(Math.pow(n-a,2)+Math.pow(r-s,2)),p=Math.sqrt(Math.pow(o-l,2)+Math.pow(i-u,2))-c,d=1,h=(d=(d=d/this.trueWidth>d/this.trueHeight?d/this.trueHeight:d/this.trueWidth)>.1?.1:d)*p;if(!this.touchNow){if(this.touchNow=!0,p>0?t+=Math.abs(h):p<0&&t>Math.abs(h)&&(t-=Math.abs(h)),this.touches=e.touches,setTimeout(()=>{this.touchNow=!1},8),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t}},cancelTouchScale(e){window.removeEventListener("touchmove",this.touchScale)},moveImg(e){if(e.preventDefault(),e.touches&&2===e.touches.length)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;let t,n,r="clientX"in e?e.clientX:e.touches[0].clientX,o="clientY"in e?e.clientY:e.touches[0].clientY;t=r-this.moveX,n=o-this.moveY,this.$nextTick(()=>{if(this.centerBox){let e,r,o,i,a=this.getImgAxis(t,n,this.scale),s=this.getCropAxis(),l=this.trueHeight*this.scale,u=this.trueWidth*this.scale;switch(this.rotate){case 1:case-1:case 3:case-3:e=this.cropOffsertX-this.trueWidth*(1-this.scale)/2+(l-u)/2,r=this.cropOffsertY-this.trueHeight*(1-this.scale)/2+(u-l)/2,o=e-l+this.cropW,i=r-u+this.cropH;break;default:e=this.cropOffsertX-this.trueWidth*(1-this.scale)/2,r=this.cropOffsertY-this.trueHeight*(1-this.scale)/2,o=e-u+this.cropW,i=r-l+this.cropH}a.x1>=s.x1&&(t=e),a.y1>=s.y1&&(n=r),a.x2<=s.x2&&(t=o),a.y2<=s.y2&&(n=i)}this.x=t,this.y=n,this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})})},leaveImg(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize(e){e.preventDefault();let t=this.scale;var n=e.deltaY||e.wheelDelta;n=navigator.userAgent.indexOf("Firefox")>0?30*n:n,this.isIE&&(n=-n);var r=this.coe,o=(r=r/this.trueWidth>r/this.trueHeight?r/this.trueHeight:r/this.trueWidth)*n;o<0?t+=Math.abs(o):t>Math.abs(o)&&(t-=Math.abs(o));let i=o<0?"add":"reduce";if(i!==this.coeStatus&&(this.coeStatus=i,this.coe=.2),this.scaling||(this.scalingSet=setTimeout(()=>{this.scaling=!1,this.coe=this.coe+=.01},50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},changeScale(e){let t=this.scale;e=e||1;var n=20;if((e*=n=n/this.trueWidth>n/this.trueHeight?n/this.trueHeight:n/this.trueWidth)>0?t+=Math.abs(e):t>Math.abs(e)&&(t-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},createCrop(e){e.preventDefault();var t="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,n="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick(()=>{var e=t-this.cropX,r=n-this.cropY;if(e>0?(this.cropW=e+this.cropChangeX>this.w?this.w-this.cropChangeX:e,this.cropOffsertX=this.cropChangeX):(this.cropW=this.w-this.cropChangeX+Math.abs(e)>this.w?this.cropChangeX:Math.abs(e),this.cropOffsertX=this.cropChangeX+e>0?this.cropChangeX+e:0),this.fixed){var o=this.cropW/this.fixedNumber[0]*this.fixedNumber[1];o+this.cropOffsertY>this.h?(this.cropH=this.h-this.cropOffsertY,this.cropW=this.cropH/this.fixedNumber[1]*this.fixedNumber[0],this.cropOffsertX=e>0?this.cropChangeX:this.cropChangeX-this.cropW):this.cropH=o,this.cropOffsertY=this.cropOffsertY}else r>0?(this.cropH=r+this.cropChangeY>this.h?this.h-this.cropChangeY:r,this.cropOffsertY=this.cropChangeY):(this.cropH=this.h-this.cropChangeY+Math.abs(r)>this.h?this.cropChangeY:Math.abs(r),this.cropOffsertY=this.cropChangeY+r>0?this.cropChangeY+r:0)})},changeCropSize(e,t,n,r,o){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=t,this.canChangeY=n,this.changeCropTypeX=r,this.changeCropTypeY=o,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow(e){e.preventDefault();var t="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,n="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0;let r=this.w,o=this.h,i=0,a=0;if(this.centerBox){let e=this.getImgAxis(),t=e.x2,n=e.y2;i=e.x1>0?e.x1:0,a=e.y1>0?e.y1:0,r>t&&(r=t),o>n&&(o=n)}const[s,l]=this.checkCropLimitSize();this.$nextTick(()=>{var e=t-this.cropX,u=n-this.cropY;if(this.canChangeX&&(1===this.changeCropTypeX?this.cropOldW-e<s?(this.cropW=s,this.cropOffsertX=this.cropOldW+this.cropChangeX-i-s):this.cropOldW-e>0?(this.cropW=r-this.cropChangeX-e<=r-i?this.cropOldW-e:this.cropOldW+this.cropChangeX-i,this.cropOffsertX=r-this.cropChangeX-e<=r-i?this.cropChangeX+e:i):(this.cropW=Math.abs(e)+this.cropChangeX<=r?Math.abs(e)-this.cropOldW:r-this.cropOldW-this.cropChangeX,this.cropOffsertX=this.cropChangeX+this.cropOldW):2===this.changeCropTypeX&&(this.cropOldW+e<s?this.cropW=s:this.cropOldW+e>0?(this.cropW=this.cropOldW+e+this.cropOffsertX<=r?this.cropOldW+e:r-this.cropOffsertX,this.cropOffsertX=this.cropChangeX):(this.cropW=r-this.cropChangeX+Math.abs(e+this.cropOldW)<=r-i?Math.abs(e+this.cropOldW):this.cropChangeX-i,this.cropOffsertX=r-this.cropChangeX+Math.abs(e+this.cropOldW)<=r-i?this.cropChangeX-Math.abs(e+this.cropOldW):i))),this.canChangeY&&(1===this.changeCropTypeY?this.cropOldH-u<l?(this.cropH=l,this.cropOffsertY=this.cropOldH+this.cropChangeY-a-l):this.cropOldH-u>0?(this.cropH=o-this.cropChangeY-u<=o-a?this.cropOldH-u:this.cropOldH+this.cropChangeY-a,this.cropOffsertY=o-this.cropChangeY-u<=o-a?this.cropChangeY+u:a):(this.cropH=Math.abs(u)+this.cropChangeY<=o?Math.abs(u)-this.cropOldH:o-this.cropOldH-this.cropChangeY,this.cropOffsertY=this.cropChangeY+this.cropOldH):2===this.changeCropTypeY&&(this.cropOldH+u<l?this.cropH=l:this.cropOldH+u>0?(this.cropH=this.cropOldH+u+this.cropOffsertY<=o?this.cropOldH+u:o-this.cropOffsertY,this.cropOffsertY=this.cropChangeY):(this.cropH=o-this.cropChangeY+Math.abs(u+this.cropOldH)<=o-a?Math.abs(u+this.cropOldH):this.cropChangeY-a,this.cropOffsertY=o-this.cropChangeY+Math.abs(u+this.cropOldH)<=o-a?this.cropChangeY-Math.abs(u+this.cropOldH):a))),this.canChangeX&&this.fixed){var c=this.cropW/this.fixedNumber[0]*this.fixedNumber[1];c<l?(this.cropH=l,this.cropW=this.fixedNumber[0]*l/this.fixedNumber[1],1===this.changeCropTypeX&&(this.cropOffsertX=this.cropChangeX+(this.cropOldW-this.cropW))):c+this.cropOffsertY>o?(this.cropH=o-this.cropOffsertY,this.cropW=this.cropH/this.fixedNumber[1]*this.fixedNumber[0],1===this.changeCropTypeX&&(this.cropOffsertX=this.cropChangeX+(this.cropOldW-this.cropW))):this.cropH=c}if(this.canChangeY&&this.fixed){var p=this.cropH/this.fixedNumber[1]*this.fixedNumber[0];p<s?(this.cropW=s,this.cropH=this.fixedNumber[1]*s/this.fixedNumber[0],this.cropOffsertY=this.cropOldH+this.cropChangeY-this.cropH):p+this.cropOffsertX>r?(this.cropW=r-this.cropOffsertX,this.cropH=this.cropW/this.fixedNumber[0]*this.fixedNumber[1]):this.cropW=p}})},checkCropLimitSize(){let{cropW:e,cropH:t,limitMinSize:n}=this,r=new Array;return r=Array.isArray(n)?n:[n,n],e=parseFloat(r[0]),t=parseFloat(r[1]),[e,t]},changeCropEnd(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},calculateSize(e,t,n,r,o,i){const a=e/t;let s=o,l=i;return s<n&&(s=n,l=Math.ceil(s/a)),l<r&&(l=r,s=Math.ceil(l*a),s<n&&(s=n,l=Math.ceil(s/a))),s<o&&(s=o,l=Math.ceil(s/a)),l<i&&(l=i,s=Math.ceil(l*a)),{width:s,height:l}},endCrop(){0===this.cropW&&0===this.cropH&&(this.cropping=!1);let[e,t]=this.checkCropLimitSize();const{width:n,height:r}=this.fixed?this.calculateSize(this.fixedNumber[0],this.fixedNumber[1],e,t,this.cropW,this.cropH):{width:e,height:t};n>this.cropW&&(this.cropW=n,this.cropOffsertX+n>this.w&&(this.cropOffsertX=this.w-n)),r>this.cropH&&(this.cropH=r,this.cropOffsertY+r>this.h&&(this.cropOffsertY=this.h-r)),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop(){this.crop=!0},stopCrop(){this.crop=!1},clearCrop(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&2===e.touches.length)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);let t,n,r="clientX"in e?e.clientX:e.touches[0].clientX,o="clientY"in e?e.clientY:e.touches[0].clientY;t=r-this.cropOffsertX,n=o-this.cropOffsertY,this.cropX=t,this.cropY=n,this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop(e,t){let n=0,r=0;e&&(e.preventDefault(),n="clientX"in e?e.clientX:e.touches[0].clientX,r="clientY"in e?e.clientY:e.touches[0].clientY),this.$nextTick(()=>{let e,o,i=n-this.cropX,a=r-this.cropY;if(t&&(i=this.cropOffsertX,a=this.cropOffsertY),e=i<=0?0:i+this.cropW>this.w?this.w-this.cropW:i,o=a<=0?0:a+this.cropH>this.h?this.h-this.cropH:a,this.centerBox){let t=this.getImgAxis();e<=t.x1&&(e=t.x1),e+this.cropW>t.x2&&(e=t.x2-this.cropW),o<=t.y1&&(o=t.y1),o+this.cropH>t.y2&&(o=t.y2-this.cropH)}this.cropOffsertX=e,this.cropOffsertY=o,this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})})},getImgAxis(e,t,n){e=e||this.x,t=t||this.y,n=n||this.scale;let r={x1:0,x2:0,y1:0,y2:0},o=this.trueWidth*n,i=this.trueHeight*n;switch(this.rotate){case 0:r.x1=e+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=t+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n;break;case 1:case-1:case 3:case-3:r.x1=e+this.trueWidth*(1-n)/2+(o-i)/2,r.x2=r.x1+this.trueHeight*n,r.y1=t+this.trueHeight*(1-n)/2+(i-o)/2,r.y2=r.y1+this.trueWidth*n;break;default:r.x1=e+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=t+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n}return r},getCropAxis(){let e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked(e){let t=document.createElement("canvas"),n=t.getContext("2d"),r=new Image,o=this.rotate,i=this.trueWidth,a=this.trueHeight,s=this.cropOffsertX,l=this.cropOffsertY;r.onload=()=>{if(0!==this.cropW){let e=1;this.high&!this.full&&(e=window.devicePixelRatio),1!==this.enlarge&!this.full&&(e=Math.abs(Number(this.enlarge)));let t=this.cropW*e,u=this.cropH*e,p=i*this.scale*e,d=a*this.scale*e,h=(this.x-s+this.trueWidth*(1-this.scale)/2)*e,f=(this.y-l+this.trueHeight*(1-this.scale)/2)*e;switch(c(t,u),n.save(),o){case 0:this.full?(c(t/this.scale,u/this.scale),n.drawImage(r,h/this.scale,f/this.scale,p/this.scale,d/this.scale)):n.drawImage(r,h,f,p,d);break;case 1:case-3:this.full?(c(t/this.scale,u/this.scale),h=h/this.scale+(p/this.scale-d/this.scale)/2,f=f/this.scale+(d/this.scale-p/this.scale)/2,n.rotate(90*o*Math.PI/180),n.drawImage(r,f,-h-d/this.scale,p/this.scale,d/this.scale)):(h+=(p-d)/2,f+=(d-p)/2,n.rotate(90*o*Math.PI/180),n.drawImage(r,f,-h-d,p,d));break;case 2:case-2:this.full?(c(t/this.scale,u/this.scale),n.rotate(90*o*Math.PI/180),h/=this.scale,f/=this.scale,n.drawImage(r,-h-p/this.scale,-f-d/this.scale,p/this.scale,d/this.scale)):(n.rotate(90*o*Math.PI/180),n.drawImage(r,-h-p,-f-d,p,d));break;case 3:case-1:this.full?(c(t/this.scale,u/this.scale),h=h/this.scale+(p/this.scale-d/this.scale)/2,f=f/this.scale+(d/this.scale-p/this.scale)/2,n.rotate(90*o*Math.PI/180),n.drawImage(r,-f-p/this.scale,h,p/this.scale,d/this.scale)):(h+=(p-d)/2,f+=(d-p)/2,n.rotate(90*o*Math.PI/180),n.drawImage(r,-f-p,h,p,d));break;default:this.full?(c(t/this.scale,u/this.scale),n.drawImage(r,h/this.scale,f/this.scale,p/this.scale,d/this.scale)):n.drawImage(r,h,f,p,d)}n.restore()}else{let e=i*this.scale,t=a*this.scale;switch(n.save(),o){case 0:c(e,t),n.drawImage(r,0,0,e,t);break;case 1:case-3:c(t,e),n.rotate(90*o*Math.PI/180),n.drawImage(r,0,-t,e,t);break;case 2:case-2:c(e,t),n.rotate(90*o*Math.PI/180),n.drawImage(r,-e,-t,e,t);break;case 3:case-1:c(t,e),n.rotate(90*o*Math.PI/180),n.drawImage(r,-e,0,e,t);break;default:c(e,t),n.drawImage(r,0,0,e,t)}n.restore()}e(t)},"data"!==this.img.substr(0,4)&&(r.crossOrigin="Anonymous"),r.src=this.imgs;const u=this.fillColor;function c(e,r){t.width=Math.round(e),t.height=Math.round(r),u&&(n.fillStyle=u,n.fillRect(0,0,t.width,t.height))}},getCropData(e){this.getCropChecked(t=>{e(t.toDataURL("image/"+this.outputType,this.outputSize))})},getCropBlob(e){this.getCropChecked(t=>{t.toBlob(t=>e(t),"image/"+this.outputType,this.outputSize)})},showPreview(){if(!this.isCanShow)return!1;this.isCanShow=!1,setTimeout(()=>{this.isCanShow=!0},16);let e=this.cropW,t=this.cropH,n=this.scale;var r={};r.div={width:`${e}px`,height:`${t}px`};let o=(this.x-this.cropOffsertX)/n,i=(this.y-this.cropOffsertY)/n;r.w=e,r.h=t,r.url=this.imgs,r.img={width:`${this.trueWidth}px`,height:`${this.trueHeight}px`,transform:`scale(${n})translate3d(${o}px, ${i}px, 0px)rotateZ(${90*this.rotate}deg)`},r.html=`\n      <div class="show-preview" style="width: ${r.w}px; height: ${r.h}px,; overflow: hidden">\n        <div style="width: ${e}px; height: ${t}px">\n          <img src=${r.url} style="width: ${this.trueWidth}px; height: ${this.trueHeight}px; transform:\n          scale(${n})translate3d(${o}px, ${i}px, 0px)rotateZ(${90*this.rotate}deg)">\n        </div>\n      </div>`,this.$emit("real-time",r)},reload(){let e=new Image;e.onload=()=>{this.w=parseFloat(window.getComputedStyle(this.$refs.cropper).width),this.h=parseFloat(window.getComputedStyle(this.$refs.cropper).height),this.trueWidth=e.width,this.trueHeight=e.height,this.original?this.scale=1:this.scale=this.checkedMode(),this.$nextTick(()=>{this.x=-(this.trueWidth-this.trueWidth*this.scale)/2+(this.w-this.trueWidth*this.scale)/2,this.y=-(this.trueHeight-this.trueHeight*this.scale)/2+(this.h-this.trueHeight*this.scale)/2,this.loading=!1,this.autoCrop&&this.goAutoCrop(),this.$emit("img-load","success"),setTimeout(()=>{this.showPreview()},20)})},e.onerror=()=>{this.$emit("img-load","error")},e.src=this.imgs},checkedMode(){let e=1,t=this.trueWidth,n=this.trueHeight;const r=this.mode.split(" ");switch(r[0]){case"contain":this.trueWidth>this.w&&(e=this.w/this.trueWidth),this.trueHeight*e>this.h&&(e=this.h/this.trueHeight);break;case"cover":t=this.w,e=t/this.trueWidth,n*=e,n<this.h&&(n=this.h,e=n/this.trueHeight);break;default:try{let o=r[0];if(-1!==o.search("px")){o=o.replace("px",""),t=parseFloat(o);const i=t/this.trueWidth;let a=1,s=r[1];-1!==s.search("px")&&(s=s.replace("px",""),n=parseFloat(s),a=n/this.trueHeight),e=Math.min(i,a)}if(-1!==o.search("%")&&(o=o.replace("%",""),t=parseFloat(o)/100*this.w,e=t/this.trueWidth),2===r.length&&"auto"===o){let t=r[1];-1!==t.search("px")&&(t=t.replace("px",""),n=parseFloat(t),e=n/this.trueHeight),-1!==t.search("%")&&(t=t.replace("%",""),n=parseFloat(t)/100*this.h,e=n/this.trueHeight)}}catch{e=1}}return e},goAutoCrop(e,t){if(""===this.imgs||null===this.imgs)return;this.clearCrop(),this.cropping=!0;let n=this.w,r=this.h;if(this.centerBox){const e=Math.abs(this.rotate)%2>0;let t=(e?this.trueHeight:this.trueWidth)*this.scale,o=(e?this.trueWidth:this.trueHeight)*this.scale;n=t<n?t:n,r=o<r?o:r}var o=e||parseFloat(this.autoCropWidth),i=t||parseFloat(this.autoCropHeight);(0===o||0===i)&&(o=.8*n,i=.8*r),o=o>n?n:o,i=i>r?r:i,this.fixed&&(i=o/this.fixedNumber[0]*this.fixedNumber[1]),i>this.h&&(o=(i=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(o,i)},changeCrop(e,t){if(this.centerBox){let n=this.getImgAxis();e>n.x2-n.x1&&(t=(e=n.x2-n.x1)/this.fixedNumber[0]*this.fixedNumber[1]),t>n.y2-n.y1&&(e=(t=n.y2-n.y1)/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=e,this.cropH=t,this.checkCropLimitSize(),this.$nextTick(()=>{this.cropOffsertX=(this.w-this.cropW)/2,this.cropOffsertY=(this.h-this.cropH)/2,this.centerBox&&this.moveCrop(null,!0)})},refresh(){this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.imgIsQqualCrop=!1,this.clearCrop(),this.$nextTick(()=>{this.checkedImg()})},rotateLeft(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear(){this.rotate=0},checkoutImgAxis(e,t,n){e=e||this.x,t=t||this.y,n=n||this.scale;let r=!0;if(this.centerBox){let o=this.getImgAxis(e,t,n),i=this.getCropAxis();o.x1>=i.x1&&(r=!1),o.x2<=i.x2&&(r=!1),o.y1>=i.y1&&(r=!1),o.y2<=i.y2&&(r=!1),r||this.changeImgScale(o,i,n)}return r},changeImgScale(e,t,n){let r=this.trueWidth,o=this.trueHeight,i=r*n,a=o*n;if(i>=this.cropW&&a>=this.cropH)this.scale=n;else{const e=this.cropW/r,t=this.cropH/o,n=this.cropH<=o*e?e:t;this.scale=n,i=r*n,a=o*n}this.imgIsQqualCrop||(e.x1>=t.x1&&(this.isRotateRightOrLeft?this.x=t.x1-(r-i)/2-(i-a)/2:this.x=t.x1-(r-i)/2),e.x2<=t.x2&&(this.isRotateRightOrLeft?this.x=t.x1-(r-i)/2-(i-a)/2-a+this.cropW:this.x=t.x2-(r-i)/2-i),e.y1>=t.y1&&(this.isRotateRightOrLeft?this.y=t.y1-(o-a)/2-(a-i)/2:this.y=t.y1-(o-a)/2),e.y2<=t.y2&&(this.isRotateRightOrLeft?this.y=t.y2-(o-a)/2-(a-i)/2-i:this.y=t.y2-(o-a)/2-a)),(i<this.cropW||a<this.cropH)&&(this.imgIsQqualCrop=!0)}},mounted(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";let e=this;var t=navigator.userAgent;this.isIOS=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,n,r){for(var o=atob(this.toDataURL(n,r).split(",")[1]),i=o.length,a=new Uint8Array(i),s=0;s<i;s++)a[s]=o.charCodeAt(s);t(new Blob([a],{type:e.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},unmounted(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.cancelScale()}}),Ci={key:0,class:"cropper-box"},Si=["src"],ki={class:"cropper-view-box"},Oi=["src"],Ei={key:1};const Ii=wi(xi,[["render",function(e,t,n,r,o,i){return E(),O("div",{class:"vue-cropper",ref:"cropper",onMouseover:t[28]||(t[28]=(...t)=>e.scaleImg&&e.scaleImg(...t)),onMouseout:t[29]||(t[29]=(...t)=>e.cancelScale&&e.cancelScale(...t))},[e.imgs?(E(),O("div",Ci,[ae(T("div",{class:"cropper-box-canvas",style:N({width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+e.x/e.scale+"px,"+e.y/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"})},[T("img",{src:e.imgs,alt:"cropper-img",ref:"cropperImg"},null,8,Si)],4),[[le,!e.loading]])])):I("",!0),T("div",{class:F(["cropper-drag-box",{"cropper-move":e.move&&!e.crop,"cropper-crop":e.crop,"cropper-modal":e.cropping}]),onMousedown:t[0]||(t[0]=(...t)=>e.startMove&&e.startMove(...t)),onTouchstart:t[1]||(t[1]=(...t)=>e.startMove&&e.startMove(...t))},null,34),ae(T("div",{class:"cropper-crop-box",style:N({width:e.cropW+"px",height:e.cropH+"px",transform:"translate3d("+e.cropOffsertX+"px,"+e.cropOffsertY+"px,0)"})},[T("span",ki,[T("img",{style:N({width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+(e.x-e.cropOffsertX)/e.scale+"px,"+(e.y-e.cropOffsertY)/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"}),src:e.imgs,alt:"cropper-img"},null,12,Oi)]),T("span",{class:"cropper-face cropper-move",onMousedown:t[2]||(t[2]=(...t)=>e.cropMove&&e.cropMove(...t)),onTouchstart:t[3]||(t[3]=(...t)=>e.cropMove&&e.cropMove(...t))},null,32),e.info?(E(),O("span",{key:0,class:"crop-info",style:N({top:e.cropInfo.top})},$(e.cropInfo.width)+" × "+$(e.cropInfo.height),5)):I("",!0),e.fixedBox?I("",!0):(E(),O("span",Ei,[T("span",{class:"crop-line line-w",onMousedown:t[4]||(t[4]=t=>e.changeCropSize(t,!1,!0,0,1)),onTouchstart:t[5]||(t[5]=t=>e.changeCropSize(t,!1,!0,0,1))},null,32),T("span",{class:"crop-line line-a",onMousedown:t[6]||(t[6]=t=>e.changeCropSize(t,!0,!1,1,0)),onTouchstart:t[7]||(t[7]=t=>e.changeCropSize(t,!0,!1,1,0))},null,32),T("span",{class:"crop-line line-s",onMousedown:t[8]||(t[8]=t=>e.changeCropSize(t,!1,!0,0,2)),onTouchstart:t[9]||(t[9]=t=>e.changeCropSize(t,!1,!0,0,2))},null,32),T("span",{class:"crop-line line-d",onMousedown:t[10]||(t[10]=t=>e.changeCropSize(t,!0,!1,2,0)),onTouchstart:t[11]||(t[11]=t=>e.changeCropSize(t,!0,!1,2,0))},null,32),T("span",{class:"crop-point point1",onMousedown:t[12]||(t[12]=t=>e.changeCropSize(t,!0,!0,1,1)),onTouchstart:t[13]||(t[13]=t=>e.changeCropSize(t,!0,!0,1,1))},null,32),T("span",{class:"crop-point point2",onMousedown:t[14]||(t[14]=t=>e.changeCropSize(t,!1,!0,0,1)),onTouchstart:t[15]||(t[15]=t=>e.changeCropSize(t,!1,!0,0,1))},null,32),T("span",{class:"crop-point point3",onMousedown:t[16]||(t[16]=t=>e.changeCropSize(t,!0,!0,2,1)),onTouchstart:t[17]||(t[17]=t=>e.changeCropSize(t,!0,!0,2,1))},null,32),T("span",{class:"crop-point point4",onMousedown:t[18]||(t[18]=t=>e.changeCropSize(t,!0,!1,1,0)),onTouchstart:t[19]||(t[19]=t=>e.changeCropSize(t,!0,!1,1,0))},null,32),T("span",{class:"crop-point point5",onMousedown:t[20]||(t[20]=t=>e.changeCropSize(t,!0,!1,2,0)),onTouchstart:t[21]||(t[21]=t=>e.changeCropSize(t,!0,!1,2,0))},null,32),T("span",{class:"crop-point point6",onMousedown:t[22]||(t[22]=t=>e.changeCropSize(t,!0,!0,1,2)),onTouchstart:t[23]||(t[23]=t=>e.changeCropSize(t,!0,!0,1,2))},null,32),T("span",{class:"crop-point point7",onMousedown:t[24]||(t[24]=t=>e.changeCropSize(t,!1,!0,0,2)),onTouchstart:t[25]||(t[25]=t=>e.changeCropSize(t,!1,!0,0,2))},null,32),T("span",{class:"crop-point point8",onMousedown:t[26]||(t[26]=t=>e.changeCropSize(t,!0,!0,2,2)),onTouchstart:t[27]||(t[27]=t=>e.changeCropSize(t,!0,!0,2,2))},null,32)]))],4),[[le,e.cropping]])],544)}],["__scopeId","data-v-a742df44"]]);var Ai,Ti,Fi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();(Ti=Ai||(Ai={})).InvalidFile="InvalidFile",Ti.InvalidToken="InvalidToken",Ti.InvalidMetadata="InvalidMetadata",Ti.InvalidChunkSize="InvalidChunkSize",Ti.InvalidCustomVars="InvalidCustomVars",Ti.NotAvailableUploadHost="NotAvailableUploadHost",Ti.ReadCacheFailed="ReadCacheFailed",Ti.InvalidCacheData="InvalidCacheData",Ti.WriteCacheFailed="WriteCacheFailed",Ti.RemoveCacheFailed="RemoveCacheFailed",Ti.GetCanvasContextFailed="GetCanvasContextFailed",Ti.UnsupportedFileType="UnsupportedFileType",Ti.FileReaderReadFailed="FileReaderReadFailed",Ti.NotAvailableXMLHttpRequest="NotAvailableXMLHttpRequest",Ti.InvalidProgressEventTarget="InvalidProgressEventTarget",Ti.RequestError="RequestError";var Mi=function(){return function(e,t){this.name=e,this.message=t,this.stack=(new Error).stack}}(),Li=function(e){function t(t,n,r,o){var i=e.call(this,Ai.RequestError,r)||this;return i.code=t,i.reqId=n,i.isRequestError=!0,i.data=o,i}return Fi(t,e),t}(Mi),_i=function(e){function t(t,n){return void 0===n&&(n=""),e.call(this,0,n,t)||this}return Fi(t,e),t}(Li),Pi=function(){function e(e,t){this.runTask=e,this.limit=t,this.aborted=!1,this.queue=[],this.processing=[]}return e.prototype.enqueue=function(e){var t=this;return new Promise(function(n,r){t.queue.push({task:e,resolve:n,reject:r}),t.check()})},e.prototype.run=function(e){var t=this;this.queue=this.queue.filter(function(t){return t!==e}),this.processing.push(e),this.runTask(e.task).then(function(){t.processing=t.processing.filter(function(t){return t!==e}),e.resolve(),t.check()},function(t){return e.reject(t)})},e.prototype.check=function(){var e=this;if(!this.aborted){var t=this.processing.length,n=this.limit-t;this.queue.slice(0,n).forEach(function(t){e.run(t)})}},e.prototype.abort=function(){this.queue=[],this.aborted=!0},e}(),Ri=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ji=function(){return ji=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ji.apply(this,arguments)},zi=function(e){function t(t,n,r){var o=e.call(this)||this;return o.isStopped=!1,o.destination=t&&"object"==typeof t?t:ji(ji(ji({},t&&{next:t}),n&&{error:n}),r&&{complete:r}),o}return Ri(t,e),t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype.next=function(e){!this.isStopped&&this.destination.next&&this.destination.next(e)},t.prototype.error=function(e){!this.isStopped&&this.destination.error&&(this.isStopped=!0,this.destination.error(e))},t.prototype.complete=function(e){!this.isStopped&&this.destination.complete&&(this.isStopped=!0,this.destination.complete(e))},t}(function(){function e(){this.closed=!1}return e.prototype.unsubscribe=function(){this.closed||(this.closed=!0,this._unsubscribe&&this._unsubscribe())},e.prototype.add=function(e){this._unsubscribe=e},e}()),Hi=function(){function e(e){this._subscribe=e}return e.prototype.subscribe=function(e,t,n){var r=new zi(e,t,n);return r.add(this._subscribe(r)),r},e}();function Bi(e){var t,n,r,o,i,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,l=0,u="",c=[];if(!e)return e;e=function(e){if(null==e)return"";var t,n,r,o=e+"",i="";t=n=0,r=o.length;for(var a=0;a<r;a++){var s=o.charCodeAt(a),l=null;if(s<128)n++;else if(s>127&&s<2048)l=String.fromCharCode(s>>6|192,63&s|128);else if((63488&s^55296)>0)l=String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128);else{if((64512&s^55296)>0)throw new RangeError("Unmatched trail surrogate at "+a);var u=o.charCodeAt(++a);if((64512&u^56320)>0)throw new RangeError("Unmatched lead surrogate at "+(a-1));s=((1023&s)<<10)+(1023&u)+65536,l=String.fromCharCode(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}null!==l&&(n>t&&(i+=o.slice(t,n)),i+=l,t=n=a+1)}return n>t&&(i+=o.slice(t,r)),i}(e+"");do{t=(i=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,n=i>>12&63,r=i>>6&63,o=63&i,c[l++]=a.charAt(t)+a.charAt(n)+a.charAt(r)+a.charAt(o)}while(s<e.length);switch(u=c.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u}function $i(e){var t,n,r,o,i,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,u=0,c=[];if(!e)return e;e+="";do{t=(a=s.indexOf(e.charAt(l++))<<18|s.indexOf(e.charAt(l++))<<12|(o=s.indexOf(e.charAt(l++)))<<6|(i=s.indexOf(e.charAt(l++))))>>16&255,n=a>>8&255,r=255&a,c[u++]=64===o?String.fromCharCode(t):64===i?String.fromCharCode(t,n):String.fromCharCode(t,n,r)}while(l<e.length);return function(e){var t=[],n=0,r=0,o=0;for(e+="";n<e.length;){o=0,(r=255&e.charCodeAt(n))<=191?(r&=127,o=1):r<=223?(r&=31,o=2):r<=239?(r&=15,o=3):(r&=7,o=4);for(var i=1;i<o;++i)r=r<<6|63&e.charCodeAt(i+n);4===o?(r-=65536,t.push(String.fromCharCode(55296|r>>10&1023)),t.push(String.fromCharCode(56320|1023&r))):t.push(String.fromCharCode(r)),n+=o}return t.join("")}(c.join(""))}function Ni(e){return(e=Bi(e)).replace(/\//g,"_").replace(/\+/g,"-")}var qi={exports:{}};const Wi=on(qi.exports=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&o)+t[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&r)+t[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&n)+t[3]-1044525330|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&o)+t[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&r)+t[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&n)+t[7]-45705983|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&o)+t[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&r)+t[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&n)+t[11]-1990404162|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&o)+t[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&r)+t[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&n)+t[15]+1236535329|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[1]-165796510|0)<<5|n>>>27)+r|0)&o|r&~o)+t[6]-1069501632|0)<<9|i>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|o>>>18)+i|0)&n|i&~n)+t[0]-373897302|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[5]-701558691|0)<<5|n>>>27)+r|0)&o|r&~o)+t[10]+38016083|0)<<9|i>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|o>>>18)+i|0)&n|i&~n)+t[4]-405537848|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[9]+568446438|0)<<5|n>>>27)+r|0)&o|r&~o)+t[14]-1019803690|0)<<9|i>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|o>>>18)+i|0)&n|i&~n)+t[8]+1163531501|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&o|r&~o)+t[2]-51403784|0)<<9|i>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|o>>>18)+i|0)&n|i&~n)+t[12]-1926607734|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^o)+t[8]-2022574463|0)<<11|i>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|o>>>16)+i|0)^i^n)+t[14]-35309556|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^o)+t[4]+1272893353|0)<<11|i>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|o>>>16)+i|0)^i^n)+t[10]-1094730640|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^o)+t[0]-358537222|0)<<11|i>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|o>>>16)+i|0)^i^n)+t[6]+76029189|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^o)+t[12]-421815835|0)<<11|i>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|o>>>16)+i|0)^i^n)+t[2]-995338651|0)<<23|r>>>9)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~o))+t[7]+1126891415|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[14]-1416354905|0)<<15|o>>>17)+i|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~o))+t[3]-1894986606|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[10]-1051523|0)<<15|o>>>17)+i|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~o))+t[15]-30611744|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[6]-1560198380|0)<<15|o>>>17)+i|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~o))+t[11]-1120210379|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[2]+718787259|0)<<15|o>>>17)+i|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function o(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var t,o,i,a,s,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(c,r(e.substring(t-64,t)));for(o=(e=e.substring(t-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(c,i),t=0;t<16;t+=1)i[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),l=parseInt(a[1],16)||0,i[14]=s,i[15]=l,n(c,i),c}function a(e){var t,r,i,a,s,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(c,o(e.subarray(t-64,t)));for(r=(e=t-64<u?e.subarray(t-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(c,i),t=0;t<16;t+=1)i[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),l=parseInt(a[1],16)||0,i[14]=s,i[15]=l,n(c,i),c}function s(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function l(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function p(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function d(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),r}function h(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}return l(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,s,l=this.byteLength,u=t(n,l),c=l;return r!==e&&(c=t(r,l)),u>c?new ArrayBuffer(0):(o=c-u,i=new ArrayBuffer(o),a=new Uint8Array(i),s=new Uint8Array(this,u,o),a.set(s),i)}}(),f.prototype.append=function(e){return this.appendBinary(u(e)),this},f.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,o=this._buff.length;for(t=64;t<=o;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},f.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=l(this._hash),e&&(n=h(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},f.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(e,t){var r,o,i,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=o,e[15]=i,n(this._hash,e)},f.hash=function(e,t){return f.hashBinary(u(e),t)},f.hashBinary=function(e,t){var n=l(i(e));return t?h(n):n},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(e){var t,r=d(this._buff.buffer,e),i=r.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)n(this._hash,o(r.subarray(t-64,t)));return this._buff=t-64<i?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=l(this._hash),e&&(n=h(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var e=f.prototype.getState.call(this);return e.buff=p(e.buff),e},f.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),f.prototype.setState.call(this,e)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(e,t){var n=l(a(new Uint8Array(e)));return t?h(n):n},f}());var Di,Ui=function(){return Ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ui.apply(this,arguments)},Xi=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},Yi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Vi=Math.pow(1024,2);function Ki(e,t){try{localStorage.removeItem(e)}catch(n){t.warn(new Mi(Ai.RemoveCacheFailed,"removeLocalFileInfo failed. key: "+e))}}function Gi(e){return{Authorization:"UpToken "+e}}function Ji(e){var t=Gi(e);return Ui({"content-type":"application/json"},t)}function Qi(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)return new window.ActiveXObject("Microsoft.XMLHTTP");throw new Mi(Ai.NotAvailableXMLHttpRequest,"the current environment does not support.")}function Zi(e){return Xi(this,void 0,void 0,function(){var t,n;return Yi(this,function(r){switch(r.label){case 0:return[4,ea(e)];case 1:return t=r.sent(),(n=new Wi.ArrayBuffer).append(t),[2,n.end()]}})})}function ea(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){if(e.target){var r=e.target.result;t(r)}else n(new Mi(Ai.InvalidProgressEventTarget,"progress event target is undefined"))},r.onerror=function(){n(new Mi(Ai.FileReaderReadFailed,"fileReader read failed"))},r.readAsArrayBuffer(e)})}function ta(e,t){return new Promise(function(n,r){var o=Qi();if(o.open(t.method,e),t.onCreate&&t.onCreate(o),t.headers){var i=t.headers;Object.keys(i).forEach(function(e){o.setRequestHeader(e,i[e])})}o.upload.addEventListener("progress",function(e){e.lengthComputable&&t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}),o.onreadystatechange=function(){var e=o.responseText;if(4===o.readyState){var t=o.getResponseHeader("x-reqId")||"";if(0!==o.status)if(200===o.status)try{n({data:JSON.parse(e),reqId:t})}catch(s){r(s)}else{var i="xhr request failed, code: "+o.status;e&&(i+=" response: "+e);var a=void 0;try{a=JSON.parse(e)}catch(l){}r(new Li(o.status,t,i,a))}else r(new _i("network error.",t))}},o.send(t.body)})}function na(e){if(e&&e.match){var t=e.match(/(^https?)/);if(!t)return"";var n=t[1];return(t=e.match(/^https?:\/\/([^:^/]*):(\d*)/))?t[2]:"http"===n?"80":"443"}return""}function ra(e){if(e&&e.match){var t=e.match(/^https?:\/\/([^:^/]*)/);return t?t[1]:""}return""}function oa(e){if(!e)throw new Mi(Ai.InvalidToken,"invalid token.");var t=e.split(":");if(1===t.length)throw new Mi(Ai.InvalidToken,"invalid token segments.");var n=t.length>3?t[1]:t[0];if(!n)throw new Mi(Ai.InvalidToken,"missing assess key field.");var r=null;try{r=JSON.parse($i(t[t.length-1].replace(/_/g,"/").replace(/-/g,"+")))}catch(i){throw new Mi(Ai.InvalidToken,"token parse failed.")}if(null==r)throw new Mi(Ai.InvalidToken,"putPolicy is null.");if(null==r.scope)throw new Mi(Ai.InvalidToken,"scope field is null.");var o=r.scope.split(":")[0];if(!o)throw new Mi(Ai.InvalidToken,"resolve bucketName failed.");return{assessKey:n,bucketName:o,scope:r.scope}}var ia,aa="z1",sa="z2",la="na0",ua="as0",ca="cn-east-2",pa=((Di={})["z0"]={srcUphost:["up.qiniup.com"],cdnUphost:["upload.qiniup.com"]},Di[aa]={srcUphost:["up-z1.qiniup.com"],cdnUphost:["upload-z1.qiniup.com"]},Di[sa]={srcUphost:["up-z2.qiniup.com"],cdnUphost:["upload-z2.qiniup.com"]},Di[la]={srcUphost:["up-na0.qiniup.com"],cdnUphost:["upload-na0.qiniup.com"]},Di[ua]={srcUphost:["up-as0.qiniup.com"],cdnUphost:["upload-as0.qiniup.com"]},Di[ca]={srcUphost:["up-cn-east-2.qiniup.com"],cdnUphost:["upload-cn-east-2.qiniup.com"]},Di),da=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};ia=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var o=encodeURIComponent(da(r))+n;return Array.isArray(e[r])?e[r].map(function(e){return o+encodeURIComponent(da(e))}).join(t):o+encodeURIComponent(da(e[r]))}).filter(Boolean).join(t):r?encodeURIComponent(da(r))+n+encodeURIComponent(da(e)):""};var ha=function(){return ha=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ha.apply(this,arguments)},fa=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},va=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ga(e,t,n){return fa(this,void 0,void 0,function(){var r;return va(this,function(o){return r=ia({ak:e,bucket:t}),[2,ta(n+"://api.qiniu.com/v2/query?"+r,{method:"GET"})]})})}function ma(e,t,n){var r=n.url,o=n.id;return r+"/buckets/"+e+"/objects/"+(null!=t?Ni(t):"~")+"/uploads/"+o}function ya(e,t,n,r,o){var i=ma(oa(e).bucketName,t,r)+"/"+n,a=function(e){var t=Gi(e);return Ui({"content-type":"application/octet-stream"},t)}(e);return o.md5&&(a["Content-MD5"]=o.md5),ta(i,ha(ha({},o),{method:"PUT",headers:a}))}var ba=function(){return ba=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ba.apply(this,arguments)},wa=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},xa=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ca=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Sa=[0,502,503,504,599],ka=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ca(arguments[t]));return e}(Sa,[612]),Oa=Math.pow(1024,3),Ea=function(){function e(e,t,n,r){this.hostPool=n,this.logger=r,this.aborted=!1,this.retryCount=0,this.xhrList=[],this.config=e.config,r.info("config inited.",this.config),this.putExtra=ba({fname:""},e.putExtra),r.info("putExtra inited.",this.putExtra),this.key=e.key,this.file=e.file,this.token=e.token,this.onData=t.onData,this.onError=t.onError,this.onComplete=t.onComplete;try{var o=oa(this.token);this.bucketName=o.bucketName,this.assessKey=o.assessKey}catch(i){r.error("get putPolicy from token failed.",i),this.onError(i)}}return e.prototype.checkAndUpdateUploadHost=function(){return wa(this,void 0,void 0,function(){var e;return xa(this,function(t){switch(t.label){case 0:return this.logger.info("get available upload host."),[4,this.hostPool.getUp(this.assessKey,this.bucketName,this.config.upprotocol)];case 1:if(null==(e=t.sent()))throw new Mi(Ai.NotAvailableUploadHost,"no available upload host.");return null!=this.uploadHost&&this.uploadHost.host!==e.host?this.logger.warn("host switches from "+this.uploadHost.host+" to "+e.host+"."):this.logger.info("use host "+e.host+"."),this.uploadHost=e,[2]}})})},e.prototype.checkAndUnfreezeHost=function(){this.logger.info("check unfreeze host."),null!=this.uploadHost&&this.uploadHost.isFrozen()&&(this.logger.warn(this.uploadHost.host+" will be unfrozen."),this.uploadHost.unfreeze())},e.prototype.checkAndFreezeHost=function(e){this.logger.info("check freeze host."),e instanceof Li&&null!=this.uploadHost&&Sa.includes(e.code)&&(this.logger.warn(this.uploadHost.host+" will be temporarily frozen."),this.uploadHost.freeze())},e.prototype.handleError=function(e){this.logger.error(e.message),this.onError(e)},e.prototype.putFile=function(){return wa(this,void 0,void 0,function(){var e,t,n;return xa(this,function(r){switch(r.label){case 0:if(this.aborted=!1,this.putExtra.fname||(this.logger.info("use file.name as fname."),this.putExtra.fname=this.file.name),this.file.size>1e4*Oa)return this.handleError(new Mi(Ai.InvalidFile,"file size exceed maximum value 10000G")),[2];if(this.putExtra.customVars&&(o=this.putExtra.customVars,!Object.keys(o).every(function(e){return 0===e.indexOf("x:")})))return this.handleError(new Mi(Ai.InvalidCustomVars,"customVars key should start width x:")),[2];if(this.putExtra.metadata&&!function(e){return Object.keys(e).every(function(e){return 0===e.indexOf("x-qn-meta-")})}(this.putExtra.metadata))return this.handleError(new Mi(Ai.InvalidMetadata,"metadata key should start with x-qn-meta-")),[2];r.label=1;case 1:return r.trys.push([1,4,,5]),this.uploadAt=(new Date).getTime(),[4,this.checkAndUpdateUploadHost()];case 2:return r.sent(),[4,this.run()];case 3:return e=r.sent(),this.onComplete(e.data),this.checkAndUnfreezeHost(),this.sendLog(e.reqId,200),[2];case 4:return t=r.sent(),this.aborted?(this.logger.warn("upload is aborted."),this.sendLog("",-2),[2]):(this.clear(),this.logger.error(t),t instanceof Li&&(this.sendLog(t.reqId,t.code),this.checkAndFreezeHost(t),n=++this.retryCount<=this.config.retryCount,ka.includes(t.code)&&n)?(this.logger.warn("error auto retry: "+this.retryCount+"/"+this.config.retryCount+"."),this.putFile(),[2]):(this.onError(t),[3,5]));case 5:return[2]}var o})})},e.prototype.clear=function(){this.xhrList.forEach(function(e){e.onreadystatechange=null,e.abort()}),this.xhrList=[],this.logger.info("cleanup uploading xhr.")},e.prototype.stop=function(){this.logger.info("aborted."),this.clear(),this.aborted=!0},e.prototype.addXhr=function(e){this.xhrList.push(e)},e.prototype.sendLog=function(e,t){var n,r;this.logger.report({code:t,reqId:e,remoteIp:"",upType:"jssdk-h5",size:this.file.size,time:Math.floor(this.uploadAt/1e3),port:na(null===(n=this.uploadHost)||void 0===n?void 0:n.getUrl()),host:ra(null===(r=this.uploadHost)||void 0===r?void 0:r.getUrl()),bytesSent:this.progress?this.progress.total.loaded:0,duration:Math.floor(((new Date).getTime()-this.uploadAt)/1e3)})},e.prototype.getProgressInfoItem=function(e,t,n){return ba({size:t,loaded:e,percent:e/t*100},null==n?{}:{fromCache:n})},e}(),Ia=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Aa=function(){return Aa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Aa.apply(this,arguments)},Ta=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},Fa=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var Ma=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ia(t,e),t.prototype.run=function(){return Ta(this,void 0,void 0,function(){var e,t,n,r,o,i=this;return Fa(this,function(a){switch(a.label){case 0:if(this.logger.info("start run Resume."),!this.config.chunkSize||(s=this.config.chunkSize,!/^[1-9]\d*$/.test(String(s))))throw new Mi(Ai.InvalidChunkSize,"chunkSize must be a positive integer");if(this.config.chunkSize>1024)throw new Mi(Ai.InvalidChunkSize,"chunkSize maximum value is 1024");return[4,this.initBeforeUploadChunks()];case 1:a.sent(),e=new Pi(function(t){return Ta(i,void 0,void 0,function(){return Fa(this,function(n){switch(n.label){case 0:if(this.aborted)throw e.abort(),new Error("pool is aborted");return[4,this.uploadChunk(t)];case 1:return n.sent(),[2]}})})},this.config.concurrentRequestLimit),t=null,n=this.getLocalKey(),r=this.chunks.map(function(t,n){return e.enqueue({chunk:t,index:n})}),a.label=2;case 2:return a.trys.push([2,5,,6]),[4,Promise.all(r)];case 3:return a.sent(),[4,this.mkFileReq()];case 4:return t=a.sent(),[3,6];case 5:throw(o=a.sent())instanceof Li&&(612===o.code||400===o.code)&&Ki(n,this.logger),o;case 6:return Ki(n,this.logger),[2,t]}var s})})},t.prototype.uploadChunk=function(e){return Ta(this,void 0,void 0,function(){var t,n,r,o,i,a,s,l,u,c=this;return Fa(this,function(p){switch(p.label){case 0:return t=e.index,n=e.chunk,r=this.cachedUploadedList[t],this.logger.info("upload part "+t+", cache:",r),o=this.config.checkByMD5,i=function(){c.usedCacheList[t]=!0,c.updateChunkProgress(n.size,t),c.uploadedList[t]=r,c.updateLocalCache()},r&&!o?(i(),[2]):[4,Zi(n)];case 1:return a=p.sent(),this.logger.info("computed part md5.",a),r&&a===r.md5?(i(),[2]):(this.usedCacheList[t]=!1,s=function(e){c.updateChunkProgress(e.loaded,t)},l={body:n,md5:this.config.checkByServer?a:void 0,onProgress:s,onCreate:function(e){return c.addXhr(e)}},this.logger.info("part "+t+" start uploading."),[4,ya(this.token,this.key,e.index+1,this.getUploadInfo(),l)]);case 2:return u=p.sent(),this.logger.info("part "+t+" upload completed."),s({loaded:n.size,total:n.size}),this.uploadedList[t]={etag:u.data.etag,md5:u.data.md5,size:n.size},this.updateLocalCache(),[2]}})})},t.prototype.mkFileReq=function(){return Ta(this,void 0,void 0,function(){var e,t,n=this;return Fa(this,function(r){switch(r.label){case 0:return e=Aa(Aa(Aa({parts:this.uploadedList.map(function(e,t){return{etag:e.etag,partNumber:t+1}}),fname:this.putExtra.fname},this.putExtra.mimeType&&{mimeType:this.putExtra.mimeType}),this.putExtra.customVars&&{customVars:this.putExtra.customVars}),this.putExtra.metadata&&{metadata:this.putExtra.metadata}),this.logger.info("parts upload completed, make file.",e),[4,(o=this.token,i=this.key,a=this.getUploadInfo(),s={onCreate:function(e){return n.addXhr(e)},body:JSON.stringify(e)},ta(ma(oa(o).bucketName,i,a),ha(ha({},s),{method:"POST",headers:Ji(o)})))];case 1:return t=r.sent(),this.logger.info("finish Resume Progress."),this.updateMkFileProgress(1),[2,t]}var o,i,a,s})})},t.prototype.initBeforeUploadChunks=function(){return Ta(this,void 0,void 0,function(){var e,t,n;return Fa(this,function(r){switch(r.label){case 0:return this.uploadedList=[],this.usedCacheList=[],(e=function(e,t){var n=null;try{n=localStorage.getItem(e)}catch(r){t.warn(new Mi(Ai.ReadCacheFailed,"getLocalFileInfo failed. key: "+e))}if(null==n)return null;var o=null;try{o=JSON.parse(n)}catch(i){Ki(e,t),t.warn(new Mi(Ai.InvalidCacheData,"getLocalFileInfo failed to parse. key: "+e))}return o}(this.getLocalKey(),this.logger))?[3,2]:(this.logger.info("init upload parts from api."),[4,(o=this.token,i=this.bucketName,a=this.key,s=this.uploadHost.getUrl(),ta(s+"/buckets/"+i+"/objects/"+(null!=a?Ni(a):"~")+"/uploads",{method:"POST",headers:Gi(o)}))]);case 1:return t=r.sent(),this.logger.info("initd upload parts of id: "+t.data.uploadId+"."),this.uploadId=t.data.uploadId,this.cachedUploadedList=[],[3,3];case 2:n=["resume upload parts from local cache,","total "+e.data.length+" part,","id is "+e.id+"."],this.logger.info(n.join(" ")),this.cachedUploadedList=e.data,this.uploadId=e.id,r.label=3;case 3:return this.chunks=function(e,t){var n=t*Vi;if(n>e.size)n=e.size;else for(;e.size>1e4*n;)n*=2;for(var r=[],o=Math.ceil(e.size/n),i=0;i<o;i++){var a=e.slice(n*i,i===o-1?e.size:n*(i+1));r.push(a)}return r}(this.file,this.config.chunkSize),this.loaded={mkFileProgress:0,chunks:this.chunks.map(function(e){return 0})},this.notifyResumeProgress(),[2]}var o,i,a,s})})},t.prototype.getUploadInfo=function(){return{id:this.uploadId,url:this.uploadHost.getUrl()}},t.prototype.getLocalKey=function(){return e=this.file.name,t=this.key,n=this.file.size,"qiniu_js_sdk_upload_file_name_"+e+(null==t?"_":"_key_"+t+"_")+"size_"+n;var e,t,n},t.prototype.updateLocalCache=function(){!function(e,t,n){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){n.warn(new Mi(Ai.WriteCacheFailed,"setLocalFileInfo failed: "+e))}}(this.getLocalKey(),{id:this.uploadId,data:this.uploadedList},this.logger)},t.prototype.updateChunkProgress=function(e,t){this.loaded.chunks[t]=e,this.notifyResumeProgress()},t.prototype.updateMkFileProgress=function(e){this.loaded.mkFileProgress=e,this.notifyResumeProgress()},t.prototype.notifyResumeProgress=function(){var e,t=this;this.progress={total:this.getProgressInfoItem((e=this.loaded.chunks,e.reduce(function(e,t){return e+t},0)+this.loaded.mkFileProgress),this.file.size+1),chunks:this.chunks.map(function(e,n){var r=t.usedCacheList[n];return t.getProgressInfoItem(t.loaded.chunks[n],e.size,r)}),uploadInfo:{id:this.uploadId,url:this.uploadHost.getUrl()}},this.onData(this.progress)},t}(Ea),La=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},_a=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Pa=function(){function e(){this.crc=-1,this.table=this.makeTable()}return e.prototype.makeTable=function(){for(var e=new Array,t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=n>>>1^3988292384:n>>>=1;e[t]=n}return e},e.prototype.append=function(e){for(var t=this.crc,n=0;n<e.byteLength;n++)t=t>>>8^this.table[255&(t^e[n])];this.crc=t},e.prototype.compute=function(){return(-1^this.crc)>>>0},e.prototype.readAsUint8Array=function(e){return La(this,void 0,void 0,function(){var t;return _a(this,function(n){switch(n.label){case 0:return"function"!=typeof e.arrayBuffer?[3,2]:(t=Uint8Array.bind,[4,e.arrayBuffer()]);case 1:return[2,new(t.apply(Uint8Array,[void 0,n.sent()]))];case 2:return[2,new Promise(function(t,n){var r=new FileReader;r.onload=function(){null!=r.result&&"string"!=typeof r.result?t(new Uint8Array(r.result)):n()},r.readAsArrayBuffer(e)})]}})})},e.prototype.file=function(e){return La(this,void 0,void 0,function(){var t,n,r,o,i,a;return _a(this,function(s){switch(s.label){case 0:return e.size<=Vi?(t=this.append,[4,this.readAsUint8Array(e)]):[3,2];case 1:return t.apply(this,[s.sent()]),[2,this.compute()];case 2:n=Math.ceil(e.size/Vi),r=0,s.label=3;case 3:return r<n?(o=r*Vi,i=r===n-1?e.size:o+Vi,[4,this.readAsUint8Array(e.slice(o,i))]):[3,6];case 4:a=s.sent(),this.append(new Uint8Array(a)),s.label=5;case 5:return r++,[3,3];case 6:return[2,this.compute()]}})})},e.file=function(t){return(new e).file(t)},e}(),Ra=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ja=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},za=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ra(t,e),t.prototype.run=function(){return ja(this,void 0,void 0,function(){var e,t,n,r,o,i=this;return za(this,function(a){switch(a.label){case 0:return this.logger.info("start run Direct."),(e=new FormData).append("file",this.file),e.append("token",this.token),null!=this.key&&e.append("key",this.key),e.append("fname",this.putExtra.fname),this.config.checkByServer?[4,Pa.file(this.file)]:[3,2];case 1:t=a.sent(),e.append("crc32",t.toString()),a.label=2;case 2:return this.putExtra.customVars&&(this.logger.info("init customVars."),n=this.putExtra.customVars,Object.keys(n).forEach(function(t){return e.append(t,n[t].toString())}),this.logger.info("customVars inited.")),this.putExtra.metadata&&(this.logger.info("init metadata."),r=this.putExtra.metadata,Object.keys(r).forEach(function(t){return e.append(t,r[t].toString())})),this.logger.info("formData inited."),[4,(s=this.uploadHost.getUrl(),l=e,u={onProgress:function(e){i.updateDirectProgress(e.loaded,e.total)},onCreate:function(e){return i.addXhr(e)}},ta(s,ha({method:"POST",body:l},u)))];case 3:return o=a.sent(),this.logger.info("Direct progress finish."),this.finishDirectProgress(),[2,o]}var s,l,u})})},t.prototype.updateDirectProgress=function(e,t){this.progress={total:this.getProgressInfoItem(e,t+1)},this.onData(this.progress)},t.prototype.finishDirectProgress=function(){if(!this.progress)return this.logger.warn("progress is null."),this.progress={total:this.getProgressInfoItem(this.file.size,this.file.size)},void this.onData(this.progress);var e=this.progress.total;this.progress={total:this.getProgressInfoItem(e.loaded+1,e.size)},this.onData(this.progress)},t}(Ea);function Ba(e,t,n){void 0===n&&(n=3);var r=Qi();r.open("POST","https://uplog.qbox.me/log/3"),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.setRequestHeader("Authorization",Gi(e).Authorization),r.onreadystatechange=function(){4===r.readyState&&200!==r.status&&n>0&&Ba(e,t,n-1)};var o=[t.code||"",t.reqId||"",t.host||"",t.remoteIp||"",t.port||"",t.duration||"",t.time||"",t.bytesSent||"",t.upType||"",t.size||""].join(",");r.send(o)}var $a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Na=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($a(arguments[t]));return e},qa=function(){function e(t,n,r,o){void 0===n&&(n=!0),void 0===r&&(r="OFF"),void 0===o&&(o="UPLOAD"),this.token=t,this.disableReport=n,this.level=r,this.prefix=o,this.id=++e.id}return e.prototype.getPrintPrefix=function(e){return"Qiniu-JS-SDK ["+e+"]["+this.prefix+"#"+this.id+"]:"},e.prototype.report=function(e,t){if(!this.disableReport)try{Ba(this.token,e,t)}catch(n){this.warn(n)}},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];["INFO"].includes(this.level)&&console.log.apply(console,Na([this.getPrintPrefix("INFO")],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];["INFO","WARN"].includes(this.level)&&console.warn.apply(console,Na([this.getPrintPrefix("WARN")],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];["INFO","WARN","ERROR"].includes(this.level)&&console.error.apply(console,Na([this.getPrintPrefix("ERROR")],e))},e.id=0,e}(),Wa=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})},Da=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ua=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Xa=new Map,Ya=function(){function e(e,t){this.host=e,this.protocol=t}return e.prototype.isFrozen=function(){var e=(new Date).getTime(),t=Xa.get(this.host);return null!=t&&t>=e},e.prototype.freeze=function(e){void 0===e&&(e=20);var t=(new Date).getTime()+1e3*e;Xa.set(this.host,t)},e.prototype.unfreeze=function(){Xa.delete(this.host)},e.prototype.getUrl=function(){return this.protocol+"://"+this.host},e.prototype.getUnfreezeTime=function(){return Xa.get(this.host)},e}(),Va=function(){function e(e){void 0===e&&(e=[]),this.initHosts=e,this.cachedHostsMap=new Map}return e.prototype.register=function(e,t,n,r){this.cachedHostsMap.set(e+"@"+t,n.map(function(e){return new Ya(e,r)}))},e.prototype.refresh=function(e,t,n){var r,o,i,a;return Wa(this,void 0,void 0,function(){var s,l;return Da(this,function(u){switch(u.label){case 0:return(this.cachedHostsMap.get(e+"@"+t)||[]).length>0?[2]:this.initHosts.length>0?(this.register(e,t,this.initHosts,n),[2]):[4,ga(e,t,n)];case 1:return null!=(null==(s=u.sent())?void 0:s.data)&&(l=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ua(arguments[t]));return e}((null===(o=null===(r=s.data.up)||void 0===r?void 0:r.acc)||void 0===o?void 0:o.main)||[],(null===(a=null===(i=s.data.up)||void 0===i?void 0:i.acc)||void 0===a?void 0:a.backup)||[]),this.register(e,t,l,n)),[2]}})})},e.prototype.getUp=function(e,t,n){return Wa(this,void 0,void 0,function(){var r,o;return Da(this,function(i){switch(i.label){case 0:return[4,this.refresh(e,t,n)];case 1:return i.sent(),0===(r=this.cachedHostsMap.get(e+"@"+t)||[]).length?[2,null]:(o=r.filter(function(e){return!e.isFrozen()})).length>0?[2,o[0]]:[2,r.slice().sort(function(e,t){return(e.getUnfreezeTime()||0)-(t.getUnfreezeTime()||0)})[0]]}})})},e}();function Ka(e,t,n,r,o){var i=new qa(n,null==o?void 0:o.disableStatisticsReport,null==o?void 0:o.debugLogLevel,e.name),a={file:e,key:t,token:n,putExtra:r,config:es(o,i)},s=new Va(a.config.uphost);return new Hi(function(e){var t=function(e,t,n,r){return e.config&&e.config.forceDirect?(r.info("ues forceDirect mode."),new Ha(e,t,n,r)):e.file.size>4*Vi?(r.info("file size over 4M, use Resume."),new Ma(e,t,n,r)):(r.info("file size less or equal than 4M, use Direct."),new Ha(e,t,n,r))}(a,{onData:function(t){return e.next(t)},onError:function(t){return e.error(t)},onComplete:function(t){return e.complete(t)}},s,i);return t.putFile(),t.stop.bind(t)})}var Ga=function(){return Ga=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ga.apply(this,arguments)},Ja=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Qa=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Za=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qa(arguments[t]));return e};function es(e,t){var n=Ga({},e),r=n.upprotocol,o=n.uphost,i=Ja(n,["upprotocol","uphost"]),a=Ga({uphost:[],retryCount:3,checkByMD5:!1,forceDirect:!1,useCdnDomain:!0,checkByServer:!1,concurrentRequestLimit:3,chunkSize:4,upprotocol:"https",debugLogLevel:"OFF",disableStatisticsReport:!1},i);r&&(a.upprotocol=r.replace(/:$/,""));var s=[];if(t&&null!=(null==e?void 0:e.uphost)&&null!=(null==e?void 0:e.region)&&t.warn("do not use both the uphost and region config."),o)Array.isArray(o)?s.push.apply(s,Za(o)):s.push(o);else if(null==a?void 0:a.region){var l=pa[null==a?void 0:a.region];a.useCdnDomain?s.push.apply(s,Za(l.cdnUphost)):s.push.apply(s,Za(l.srcUphost))}return Ga(Ga({},a),{uphost:s.filter(Boolean)})}var ts={PNG:"image/png",JPEG:"image/jpeg",WEBP:"image/webp",BMP:"image/bmp"};Object.keys(ts).map(function(e){return ts[e]});const ns={class:"cropper","element-loading-text":"图片上传中..."},rs={class:"cropper-area"},os={class:"preview-area"},is={class:"show-preview"},as=["src"],ss=sn({__name:"UploadImg",props:{width:{type:Number,required:!1,default:200},height:{type:Number,required:!1,default:200},dir:{type:String,required:!0,default:"upload"},file_name:{type:String,required:!1}},emits:["saveImg"],setup(e,{expose:t,emit:n}){let{MyIcon:r}=yi(),{timeFile:o}=pn(),{upload:i}={upload:(e,t)=>new Promise((n,r)=>{an().then(o=>{let i=o.domain,a=o.token,s=e+"/"+t.name.substring(0,t.name.lastIndexOf("."))+t.name.substring(t.name.lastIndexOf("."));Ka(t,s,a,{fname:"",params:{},mimeType:null},{useCdnDomain:!0,region:aa}).subscribe({next:e=>{console.log(e)},error:e=>{console.log(e),r(e)},complete:e=>{let t=i+e.key;n(t)}})}).catch(e=>{console.log(e)})})};const a=e,s=n,l=h(null),u=h(""),c=h(!1),p=e=>{let t;"raw"in e?(console.log("element对象"),t=e.raw):(console.log("原生对象"),t=e.target.files[0]);const n=new FileReader;n.onload=e=>{u.value=e.target.result},n.readAsDataURL(t),c.value=!0},d=ce({}),f=e=>{Object.assign(d,e)},v=e=>{e=e||1,l.value.changeScale(e)},g=e=>{1===e?l.value.rotateLeft():l.value.rotateRight()},m=h(!1),y=()=>{l.value.getCropBlob(e=>{console.log(e),m.value=!0;const t=a.file_name?a.file_name+".jpg":o(Date.now())+".jpg";console.log(t);const n=new File([e],t,{type:e.type});console.log(n),i(a.dir,n).then(e=>{console.log(e),dn({message:"图片上传成功！",type:"success"}),s("saveImg",e),c.value=!1,m.value=!1}).catch(e=>{console.log(e),dn.error("图片上传失败！"),m.value=!1})})},b=h(0);return t({test:()=>{console.log("这是图片上传组件的方法")},uploadChange:p}),(e,t)=>{const n=ln,o=jo,i=cn,s=ur,h=un;return E(),O("div",null,[z(o,{accept:".jpg,.jpeg,.png",action:"./","auto-upload":!1,"on-change":p,"show-file-list":!1},{default:P(()=>[z(n,{class:"upload-btn"},{default:P(()=>[z(M(r),{class:"upload-icon",type:"icon-upload-img"}),t[8]||(t[8]=T("p",null,"选择图片",-1))]),_:1,__:[8]})]),_:1}),z(s,{title:"图片裁剪",modelValue:c.value,"onUpdate:modelValue":t[7]||(t[7]=e=>c.value=e),"append-to-body":"",center:"",width:"80%"},{footer:P(()=>[z(n,{size:"default",type:"success"},{default:P(()=>t[10]||(t[10]=[T("label",{class:"pointer",for:"uploads"},"更换图片",-1)])),_:1,__:[10]}),T("input",{type:"file",id:"uploads",style:{position:"absolute",clip:"rect(0 0 0 0)"},accept:"image/png, image/jpeg, image/jpg",onChange:t[0]||(t[0]=e=>p(e))},null,32),z(i,{class:"cropper-btn-group"},{default:P(()=>[z(n,{size:"default",type:"primary",plain:"",onClick:t[1]||(t[1]=e=>v(1))},{default:P(()=>[z(M(r),{type:"icon-amplification"})]),_:1}),z(n,{size:"default",type:"primary",plain:"",onClick:t[2]||(t[2]=e=>v(-1))},{default:P(()=>[z(M(r),{type:"icon-narrow"})]),_:1}),z(n,{size:"default",type:"primary",plain:"",onClick:t[3]||(t[3]=e=>{l.value.refresh()})},{default:P(()=>[z(M(r),{type:"icon-reset"})]),_:1}),z(n,{size:"default",type:"primary",plain:"",onClick:t[4]||(t[4]=e=>g(1))},{default:P(()=>[z(M(r),{type:"icon-clockwise-sense"})]),_:1}),z(n,{size:"default",type:"primary",plain:"",onClick:t[5]||(t[5]=e=>g(-1))},{default:P(()=>[z(M(r),{type:"icon-clockwise-dirction"})]),_:1})]),_:1}),z(n,{size:"default",onClick:t[6]||(t[6]=e=>c.value=!1)},{default:P(()=>t[11]||(t[11]=[ve("取 消")])),_:1,__:[11]}),z(n,{type:"primary",onClick:y,size:"default"},{default:P(()=>t[12]||(t[12]=[ve("确 定")])),_:1,__:[12]})]),default:P(()=>[ve($(a.width)+" "+$(a.height)+" ",1),ae((E(),O("div",ns,[T("span",rs,[(E(),_(M(Ii),{key:b.value,ref_key:"cropper",ref:l,img:u.value,autoCrop:!0,autoCropWidth:a.width,autoCropHeight:a.height,fixedNumber:[a.width/a.height,1],fixed:!0,outputType:"jpeg",onRealTime:f},null,8,["img","autoCropWidth","autoCropHeight","fixedNumber"]))]),T("span",os,[t[9]||(t[9]=T("p",null,"图片预览",-1)),T("div",is,[T("div",{style:N(d.div),class:"preview"},[T("img",{src:d.url,style:N(d.img)},null,12,as)],4)])])])),[[h,m.value]])]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-ac1904f6"]]);var ls={exports:{}};
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */const us=on(ls.exports=function(){return function(){var e={686:function(e,t,n){n.d(t,{default:function(){return C}});var r=n(279),o=n.n(r),i=n(370),a=n.n(i),s=n(817),l=n.n(s);function u(e){try{return document.execCommand(e)}catch(t){return!1}}var c=function(e){var t=l()(e);return u("cut"),t},p=function(e,t){var n=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(r,"px"),n.setAttribute("readonly",""),n.value=e,n}(e);t.container.appendChild(n);var r=l()(n);return u("copy"),n.remove(),r},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof e?n=p(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==e?void 0:e.type)?n=p(e.value,t):(n=l()(e),u("copy")),n};function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=void 0===t?"copy":t,r=e.container,o=e.target,i=e.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==o){if(!o||"object"!==h(o)||1!==o.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&o.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(o.hasAttribute("readonly")||o.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return i?d(i,{container:r}):o?"cut"===n?c(o):d(o,{container:r}):void 0};function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r,o,i=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r=this,!(o=n)||"object"!==v(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r):o}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=y(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).resolveOptions(t),n.listenClick(e),n}return t=i,n=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===v(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=a()(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,n=this.action(t)||"copy",r=f({action:n,container:this.container,target:this.target(t),text:this.text(t)});this.emit(r?"success":"error",{action:n,text:r,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return w("action",e)}},{key:"defaultTarget",value:function(e){var t=w("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return w("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],r=[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return d(e,t)}},{key:"cut",value:function(e){return c(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}],n&&g(t.prototype,n),r&&g(t,r),i}(o()),C=x},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,n){var r=n(828);function o(e,t,n,r,o){var a=i.apply(this,arguments);return e.addEventListener(n,a,o),{destroy:function(){e.removeEventListener(n,a,o)}}}function i(e,t,n,o){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&o.call(e,n)}}e.exports=function(e,t,n,r,i){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return o(e,t,n,r,i)}))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,n){var r=n(879),o=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(r.string(e))return function(e,t,n){return o(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),t=r.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(686)}().default}()),cs={class:"main"},ps={class:"img-tips"},ds=sn({__name:"Image",setup(e){const{toClipboard:t}={toClipboard:(e,t)=>new Promise((n,r)=>{const o=document.createElement("button"),i=new us(o,{text:()=>e,action:()=>"copy",container:void 0!==t?t:document.body});i.on("success",e=>{i.destroy(),n(e)}),i.on("error",e=>{i.destroy(),r(e)}),document.body.appendChild(o),o.click(),document.body.removeChild(o)})},n=ce({value:"",name:"",directory:"",url:"",width:100,height:100,disabled:!1}),r=[{value:0,directory:"articleCover",label:"文章封面",width:540,height:360},{value:1,directory:"noteCover",label:"笔记封面",width:425,height:225},{value:2,directory:"carousel",label:"轮播图",width:900,height:500},{value:3,directory:"markdown",label:"富文本图片",width:NaN,height:NaN},{value:4,directory:"link",label:"友情链接",width:50,height:50},{value:5,directory:"photo",label:"用户头像",width:50,height:50},{value:6,directory:"image",label:"其他图片",width:NaN,height:NaN}],o=e=>{console.log(e),n.disabled=!1,n.directory=r[e].directory,n.width=r[e].width,n.height=r[e].height},i=e=>{console.log(e),n.url=e;let t=e.split("/"),r=t[t.length-1];console.log(r),n.name=r,n.disabled=!0},a=()=>{console.log("复制了啊");try{t(n.url),console.log(n.url),dn({message:"图片链接成功复制到剪切板！",type:"success"})}catch(e){console.error(e)}},s=()=>{n.url="",n.directory="",n.disabled=!1,n.name=""};return(e,t)=>{const l=uo,u=lo,c=Kr,p=Dn,d=fn,h=ln,f=Vr,v=vn;return E(),O("div",cs,[z(v,{shadow:"hover"},{default:P(()=>[z(f,{model:n,"label-width":"120px"},{default:P(()=>[z(c,{label:"图片类型："},{default:P(()=>[z(u,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),onChange:o,placeholder:"请选择上传图片类型",size:"large"},{default:P(()=>[(E(),O(A,null,Ie(r,e=>z(l,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),ae(T("span",ps,[T("p",null,"图片上传目录："+$(n.directory),1),T("p",null,"图片上传尺寸："+$(n.width)+" X "+$(n.height),1)],512),[[le,n.directory]])]),_:1}),z(c,{label:"文件名称："},{default:P(()=>[z(p,{modelValue:n.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.name=e),placeholder:"请输入图片文件名称，默认取当前时间为文件名",disabled:n.disabled,style:{width:"30%"}},null,8,["modelValue","disabled"])]),_:1}),z(c,{label:"图片上传："},{default:P(()=>[z(ss,{width:n.width,height:n.height,dir:n.directory,file_name:n.name,onSaveImg:i},null,8,["width","height","dir","file_name"])]),_:1}),ae(z(c,{label:"图片预览："},{default:P(()=>[z(d,{src:n.url,fit:"contain"},null,8,["src"])]),_:1},512),[[le,n.url]]),z(c,null,{default:P(()=>[z(h,{type:"primary",onClick:a,size:"large"},{default:P(()=>t[2]||(t[2]=[ve("复制图片地址")])),_:1,__:[2]}),z(h,{onClick:s,size:"large"},{default:P(()=>t[3]||(t[3]=[ve("取消")])),_:1,__:[3]})]),_:1})]),_:1},8,["model"])]),_:1})])}}},[["__scopeId","data-v-b5085ac2"]]);export{ds as default};
